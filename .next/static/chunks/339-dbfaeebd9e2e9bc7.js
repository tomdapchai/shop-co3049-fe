(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[339],{59683:(e,t,r)=>{Promise.resolve().then(r.bind(r,87235))},87235:(e,t,r)=>{"use strict";r.d(t,{default:()=>x});var s=r(95155),a=r(12115),n=r(76046),i=r(35007),o=r(85060),l=r(34839),d=r(33326),c=r(69606),u=r(14085),m=r(9955),f=r(48173),p=r.n(f),h=r(80839),v=r(20241);let x=e=>{let{type:t}=e,{isLoggedIn:r,loginUser:f,loginAdmin:x,user:g}=(0,h.A)(),b=(0,n.useRouter)(),j=(0,n.useSearchParams)(),{toast:y}=(0,v.dj)();(0,a.useEffect)(()=>{if(r){let e=j.get("callbackUrl");b.replace(e||"/")}},[r,b,j]);let w=(0,c.mN)({resolver:(0,o.u)(d.Il),defaultValues:{username:"",password:""}});async function N(e){try{"user"===t&&await f(e.username,e.password).then(e=>{"error"in e?y({title:"Login failed",description:"Invalid credentials",variant:"destructive"}):y({title:"Login success",description:"You have successfully logged in",className:"bg-green-500 text-white border-none"})}).catch(e=>{console.log(e)}),"admin"===t&&await x(e.username,e.password).then(e=>{"error"in e?y({title:"Login failed",description:"Invalid credentials",variant:"destructive"}):b.push("/admin/dashboard")}).catch(e=>{console.log(e)})}catch(e){console.error(e)}}return(0,s.jsxs)(i.Zp,{className:"w-[400px] h-fit",children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsxs)(i.ZB,{className:"text-sub",children:["admin"==t?"Admin ":"","Sign In"]}),(0,s.jsx)(i.BT,{children:"Provide login credentials to sign you in"})]}),(0,s.jsx)(i.Wu,{children:(0,s.jsx)(l.lV,{...w,children:(0,s.jsxs)("form",{onSubmit:w.handleSubmit(N),className:"flex w-full flex-col gap-5",children:[(0,s.jsx)(l.zB,{control:w.control,name:"username",render:e=>{let{field:t}=e;return(0,s.jsxs)(l.eI,{className:"flex w-full flex-col",children:[(0,s.jsx)(l.lR,{className:"paragraph-semibold",children:"Username"}),(0,s.jsx)(l.MJ,{className:"mt-1",children:(0,s.jsx)(m.p,{className:"no-focus border",placeholder:"Enter your username here",...t})}),(0,s.jsx)(l.C5,{className:"text-red-500"})]})}}),(0,s.jsx)(l.zB,{control:w.control,name:"password",render:e=>{let{field:t}=e;return(0,s.jsxs)(l.eI,{className:"flex w-full flex-col",children:[(0,s.jsx)(l.lR,{className:"paragraph-semibold",children:"Password"}),(0,s.jsx)(l.MJ,{className:"mt-1",children:(0,s.jsx)(m.p,{className:"no-fcous border",placeholder:"Enter your password here",type:"password",...t})}),(0,s.jsx)(l.C5,{className:"text-red-500"})]})}}),(0,s.jsx)(u.$,{type:"submit",className:"w-full bg-sub hover:bg-[#b88e2f]/90",children:"Sign In"})]})})}),"user"==t&&(0,s.jsxs)(i.wL,{className:"text-sm flex gap-2",children:[(0,s.jsx)("p",{className:"text-slate-400",children:"Haven't had account yet?"}),(0,s.jsx)(p(),{href:"/sign-up",className:"underline text-sub hover:text-[#b88e2f]/80",children:"Sign Up"})]})]})}},14085:(e,t,r)=>{"use strict";r.d(t,{$:()=>d,r:()=>l});var s=r(95155),a=r(12115),n=r(12317),i=r(31027),o=r(29602);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,s.jsx)(u,{className:(0,o.cn)(l({variant:a,size:i,className:r})),ref:t,...c})});d.displayName="Button"},35007:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>i,aR:()=>o,wL:()=>u});var s=r(95155),a=r(12115),n=r(29602);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...a})});i.displayName="Card";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});o.displayName="CardHeader";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",r),...a})});l.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},34839:(e,t,r)=>{"use strict";r.d(t,{C5:()=>g,MJ:()=>v,Rr:()=>x,eI:()=>p,lR:()=>h,lV:()=>d,zB:()=>u});var s=r(95155),a=r(12115),n=r(12317),i=r(69606),o=r(29602),l=r(15785);let d=i.Op,c=a.createContext({}),u=e=>{let{...t}=e;return(0,s.jsx)(c.Provider,{value:{name:t.name},children:(0,s.jsx)(i.xI,{...t})})},m=()=>{let e=a.useContext(c),t=a.useContext(f),{getFieldState:r,formState:s}=(0,i.xW)(),n=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=t;return{id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message"),...n}},f=a.createContext({}),p=a.forwardRef((e,t)=>{let{className:r,...n}=e,i=a.useId();return(0,s.jsx)(f.Provider,{value:{id:i},children:(0,s.jsx)("div",{ref:t,className:(0,o.cn)("space-y-2",r),...n})})});p.displayName="FormItem";let h=a.forwardRef((e,t)=>{let{className:r,...a}=e,{error:n,formItemId:i}=m();return(0,s.jsx)(l.J,{ref:t,className:(0,o.cn)(n&&"text-destructive",r),htmlFor:i,...a})});h.displayName="FormLabel";let v=a.forwardRef((e,t)=>{let{...r}=e,{error:a,formItemId:i,formDescriptionId:o,formMessageId:l}=m();return(0,s.jsx)(n.DX,{ref:t,id:i,"aria-describedby":a?"".concat(o," ").concat(l):"".concat(o),"aria-invalid":!!a,...r})});v.displayName="FormControl";let x=a.forwardRef((e,t)=>{let{className:r,...a}=e,{formDescriptionId:n}=m();return(0,s.jsx)("p",{ref:t,id:n,className:(0,o.cn)("text-[0.8rem] text-muted-foreground",r),...a})});x.displayName="FormDescription";let g=a.forwardRef((e,t)=>{let{className:r,children:a,...n}=e,{error:i,formMessageId:l}=m(),d=i?String(null==i?void 0:i.message):a;return d?(0,s.jsx)("p",{ref:t,id:l,className:(0,o.cn)("text-[0.8rem] font-medium text-destructive",r),...n,children:d}):null});g.displayName="FormMessage"},9955:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var s=r(95155),a=r(12115),n=r(29602);let i=a.forwardRef((e,t)=>{let{className:r,type:a,...i}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...i})});i.displayName="Input"},15785:(e,t,r)=>{"use strict";r.d(t,{J:()=>d});var s=r(95155),a=r(12115),n=r(46195),i=r(31027),o=r(29602);let l=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.b,{ref:t,className:(0,o.cn)(l(),r),...a})});d.displayName=n.b.displayName},20241:(e,t,r)=>{"use strict";r.d(t,{dj:()=>m});var s=r(12115);let a=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?i(r):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],d={toasts:[]};function c(e){d=o(d,e),l.forEach(e=>{e(d)})}function u(e){let{...t}=e,r=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function m(){let[e,t]=s.useState(d);return s.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},33326:(e,t,r)=>{"use strict";r.d(t,{Em:()=>o,HU:()=>l,Il:()=>a,eB:()=>i,mJ:()=>n,nv:()=>c,qb:()=>d});var s=r(43415);let a=s.Ik({username:s.Yj(),password:s.Yj().min(8)}),n=s.Ik({username:s.Yj().min(5),password:s.Yj().min(8),confirmPassword:s.Yj().min(8)}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});s.Ik({name:s.Yj().min(3,{message:"Name must be at least 3 characters."}),rating:s.ai().min(1).max(5),comment:s.Yj().min(10,{message:"Comment must be at least 10 characters."}).optional()});let i=s.Ik({name:s.Yj().min(2,{message:"Name must be at least 2 characters."}),email:s.Yj().email({message:"Please enter a valid email address."}),phoneNumber:s.Yj().regex(/^(\+84|0)[3|5|7|8|9][0-9]{8}$/,{message:"Please enter a valid Vietnamese phone number."}),streetAddress:s.Yj().min(5,{message:"Street address must be at least 5 characters."}),city:s.Yj().min(2,{message:"City must be at least 2 characters."}),province:s.Yj().min(2,{message:"Please select a province."})});s.Ik({name:s.Yj(),email:s.Yj().email(),phoneNumber:s.Yj().regex(/^(\+84|0)[3|5|7|8|9][0-9]{8}$/),streetAddress:s.Yj(),city:s.Yj(),province:s.Yj()});let o=s.Ik({title:s.Yj().min(1,"Blog title is required"),blogId:s.Yj().min(1,"Blog ID is required").regex(/^[a-z0-9-]+$/,"Blog ID must contain only lowercase letters, numbers, and hyphens"),content:s.Yj().min(1,"Content is required"),tags:s.YO(s.Yj())}),l=s.Ik({productId:s.Yj().min(1,"Product ID is required"),name:s.Yj().min(1,"Name is required"),price:s.ai().min(0,"Price must be a positive number"),size:s.YO(s.Yj()).min(1,"At least one size must be selected"),color:s.YO(s.Yj()).min(1,"At least one color must be selected"),shortDescription:s.Yj().min(1,"Short description is required"),fullDescription:s.Yj().min(1,"Full description is required"),tags:s.YO(s.Yj())}),d=s.Ik({name:s.Yj().min(2,{message:"Name must be at least 2 characters."}),email:s.Yj().email({message:"Please enter a valid email address."}),phoneNumber:s.Yj().optional(),subject:s.Yj().optional(),message:s.Yj().min(10,{message:"Message must be at least 10 characters."})}),c=s.Ik({about:s.Yj(),address:s.Yj(),phoneNumber:s.Yj(),email:s.Yj().email()})},76046:(e,t,r)=>{"use strict";var s=r(66658);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},45353:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return a}});let s=r(12115);function a(e,t){let r=(0,s.useRef)(()=>{}),a=(0,s.useRef)(()=>{});return(0,s.useMemo)(()=>e&&t?s=>{null===s?(r.current(),a.current()):(r.current=n(e,s),a.current=n(t,s))}:e||t,[e,t])}function n(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},23360:(e,t,r)=>{"use strict";r.d(t,{hO:()=>l,sG:()=>o});var s=r(12115),a=r(47650),n=r(12317),i=r(95155),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=s.forwardRef((e,r)=>{let{asChild:s,...a}=e,o=s?n.DX:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(o,{...a,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function l(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}},31027:(e,t,r)=>{"use strict";r.d(t,{F:()=>i});var s=r(43463);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=s.$,i=(e,t)=>r=>{var s;if((null==t?void 0:t.variants)==null)return n(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:i,defaultVariants:o}=t,l=Object.keys(i).map(e=>{let t=null==r?void 0:r[e],s=null==o?void 0:o[e];if(null===t)return null;let n=a(t)||a(s);return i[e][n]}),d=r&&Object.entries(r).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return n(e,l,null==t?void 0:null===(s=t.compoundVariants)||void 0===s?void 0:s.reduce((e,t)=>{let{class:r,className:s,...a}=t;return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...o,...d}[t]):({...o,...d})[t]===r})?[...e,r,s]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},89208:(e,t,r)=>{"use strict";function s(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)e[s]=r[s]}return e}r.d(t,{A:()=>a});var a=function e(t,r){function a(e,a,n){if("undefined"!=typeof document){"number"==typeof(n=s({},r,n)).expires&&(n.expires=new Date(Date.now()+864e5*n.expires)),n.expires&&(n.expires=n.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var o in n)n[o]&&(i+="; "+o,!0!==n[o]&&(i+="="+n[o].split(";")[0]));return document.cookie=e+"="+t.write(a,e)+i}}return Object.create({set:a,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],s={},a=0;a<r.length;a++){var n=r[a].split("="),i=n.slice(1).join("=");try{var o=decodeURIComponent(n[0]);if(s[o]=t.read(i,o),e===o)break}catch(e){}}return e?s[e]:s}},remove:function(e,t){a(e,"",s({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,s({},this.attributes,t))},withConverter:function(t){return e(s({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}}]);