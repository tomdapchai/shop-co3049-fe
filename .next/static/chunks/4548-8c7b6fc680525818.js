"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4548],{46820:(e,t,a)=>{a.d(t,{A:()=>r});let r=a(82651).A.create({baseURL:"http://localhost:5050",withCredentials:!0})},97217:(e,t,a)=>{a.d(t,{A:()=>n});var r=a(95155);a(12115);var s=a(28979);function n(e){let{content:t}=e;return(0,r.jsx)("div",{className:"prose max-w-none",children:(0,s.Ay)(t)})}},56378:(e,t,a)=>{a.d(t,{A:()=>d});var r=a(95155),s=a(12115),n=a(14085),o=a(9955),l=a(3392),i=a(27193);function d(e){let{uploadedImages:t,onUpload:a,onDelete:d,onUpdateAlt:c,isMultiple:u=!0,isEditing:m=!1}=e,[g,p]=(0,s.useState)(null),[f,h]=(0,s.useState)("");console.log(t);let x=e=>{c(e,f),p(null),h("")},b=e=>{p(e),h(e)};return(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsx)(o.p,{type:"file",accept:"image/*",onChange:e=>{let t=e.target.files;t&&Array.from(t).forEach(a)},multiple:u,disabled:!m}),(0,r.jsx)(l.F,{className:"h-fit",children:t.map(e=>(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)("img",{src:e.src,alt:e.alt,className:"w-16 h-16 object-cover"}),g===e.alt?(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(o.p,{value:f,onChange:e=>h(e.target.value),autoFocus:!0}),(0,r.jsx)(n.$,{size:"icon",onClick:()=>x(e.alt),children:(0,r.jsx)(i.A,{className:"h-4 w-4"})})]}):(0,r.jsx)("span",{onClick:()=>b(e.alt),children:e.alt}),m&&(0,r.jsx)(n.$,{variant:"destructive",size:"sm",onClick:t=>{t.preventDefault(),d(e.src)},children:"Delete"})]},e.src))})]})}},14085:(e,t,a)=>{a.d(t,{$:()=>d,r:()=>i});var r=a(95155),s=a(12115),n=a(12317),o=a(31027),l=a(29602);let i=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:a,variant:s,size:o,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,r.jsx)(u,{className:(0,l.cn)(i({variant:s,size:o,className:a})),ref:t,...c})});d.displayName="Button"},7837:(e,t,a)=>{a.d(t,{Cf:()=>m,L3:()=>p,c7:()=>g,lG:()=>i,rr:()=>f,zM:()=>d});var r=a(95155),s=a(12115),n=a(66217),o=a(689),l=a(29602);let i=n.bL,d=n.l9,c=n.ZL;n.bm;let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.hJ,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});u.displayName=n.hJ.displayName;let m=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsxs)(c,{children:[(0,r.jsx)(u,{}),(0,r.jsxs)(n.UC,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...i,children:[s,(0,r.jsxs)(n.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(o.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=n.UC.displayName;let g=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};g.displayName="DialogHeader";let p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.hE,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});p.displayName=n.hE.displayName;let f=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.VY,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...s})});f.displayName=n.VY.displayName},34839:(e,t,a)=>{a.d(t,{C5:()=>b,MJ:()=>h,Rr:()=>x,eI:()=>p,lR:()=>f,lV:()=>d,zB:()=>u});var r=a(95155),s=a(12115),n=a(12317),o=a(69606),l=a(29602),i=a(15785);let d=o.Op,c=s.createContext({}),u=e=>{let{...t}=e;return(0,r.jsx)(c.Provider,{value:{name:t.name},children:(0,r.jsx)(o.xI,{...t})})},m=()=>{let e=s.useContext(c),t=s.useContext(g),{getFieldState:a,formState:r}=(0,o.xW)(),n=a(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=t;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...n}},g=s.createContext({}),p=s.forwardRef((e,t)=>{let{className:a,...n}=e,o=s.useId();return(0,r.jsx)(g.Provider,{value:{id:o},children:(0,r.jsx)("div",{ref:t,className:(0,l.cn)("space-y-2",a),...n})})});p.displayName="FormItem";let f=s.forwardRef((e,t)=>{let{className:a,...s}=e,{error:n,formItemId:o}=m();return(0,r.jsx)(i.J,{ref:t,className:(0,l.cn)(n&&"text-destructive",a),htmlFor:o,...s})});f.displayName="FormLabel";let h=s.forwardRef((e,t)=>{let{...a}=e,{error:s,formItemId:o,formDescriptionId:l,formMessageId:i}=m();return(0,r.jsx)(n.DX,{ref:t,id:o,"aria-describedby":s?"".concat(l," ").concat(i):"".concat(l),"aria-invalid":!!s,...a})});h.displayName="FormControl";let x=s.forwardRef((e,t)=>{let{className:a,...s}=e,{formDescriptionId:n}=m();return(0,r.jsx)("p",{ref:t,id:n,className:(0,l.cn)("text-[0.8rem] text-muted-foreground",a),...s})});x.displayName="FormDescription";let b=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e,{error:o,formMessageId:i}=m(),d=o?String(null==o?void 0:o.message):s;return d?(0,r.jsx)("p",{ref:t,id:i,className:(0,l.cn)("text-[0.8rem] font-medium text-destructive",a),...n,children:d}):null});b.displayName="FormMessage"},9955:(e,t,a)=>{a.d(t,{p:()=>o});var r=a(95155),s=a(12115),n=a(29602);let o=s.forwardRef((e,t)=>{let{className:a,type:s,...o}=e;return(0,r.jsx)("input",{type:s,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...o})});o.displayName="Input"},15785:(e,t,a)=>{a.d(t,{J:()=>d});var r=a(95155),s=a(12115),n=a(46195),o=a(31027),l=a(29602);let i=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.b,{ref:t,className:(0,l.cn)(i(),a),...s})});d.displayName=n.b.displayName},3392:(e,t,a)=>{a.d(t,{F:()=>l});var r=a(95155),s=a(12115),n=a(21868),o=a(29602);let l=s.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(n.bL,{ref:t,className:(0,o.cn)("relative overflow-hidden",a),...l,children:[(0,r.jsx)(n.LM,{className:"h-full w-full rounded-[inherit]",children:s}),(0,r.jsx)(i,{}),(0,r.jsx)(n.OK,{})]})});l.displayName=n.bL.displayName;let i=s.forwardRef((e,t)=>{let{className:a,orientation:s="vertical",...l}=e;return(0,r.jsx)(n.VM,{ref:t,orientation:s,className:(0,o.cn)("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...l,children:(0,r.jsx)(n.lr,{className:"relative flex-1 rounded-full bg-border"})})});i.displayName=n.VM.displayName},10371:(e,t,a)=>{a.d(t,{T:()=>o});var r=a(95155),s=a(12115),n=a(29602);let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("textarea",{className:(0,n.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...s})});o.displayName="Textarea"},20241:(e,t,a)=>{a.d(t,{dj:()=>m});var r=a(12115);let s=0,n=new Map,o=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?o(a):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},i=[],d={toasts:[]};function c(e){d=l(d,e),i.forEach(e=>{e(d)})}function u(e){let{...t}=e,a=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=r.useState(d);return r.useEffect(()=>(i.push(t),()=>{let e=i.indexOf(t);e>-1&&i.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},29602:(e,t,a)=>{a.d(t,{$g:()=>o,QH:()=>i,Vi:()=>m,Yq:()=>l,cV:()=>d,cn:()=>n,dw:()=>u,gI:()=>c,oE:()=>g});var r=a(43463),s=a(69795);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}let o=e=>e.toLocaleString("en-US",{style:"currency",currency:"VND",currencyDisplay:"code"});function l(e){return new Intl.DateTimeFormat("vi-VN",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}).format(e)}function i(e){let t=e;for(let e of[{regex:/HEADLINE<([^>]+)>/g,replace:'<h1 class="text-2xl font-bold mb-4">$1</h1>'},{regex:/SECTION<([^>]+)>/g,replace:'<h2 class="text-lg font-bold mb-2">$1</h2>'},{regex:/LINK<([^,]+),\s*([^>]+)>/g,replace:'<a href="$2" class="text-black hover:text-slate-500 underline">$1</a>'},{regex:/IMG<([^,]+),\s*([^,]+)(?:,\s*(\d+))?(?:,\s*(\d+))?>/g,replace:(e,t,a,r,s)=>'<div class="w-full flex justify-center items-center">\n            <Image src="'.concat(a,'" alt="').concat(t,'" ').concat(r?'width="'.concat(r,'"'):""," ").concat(s?'height="'.concat(s,'"'):"",' class="rounded-lg" /></div>')},{regex:/P<([^>]+)>/g,replace:(e,t)=>{let a=t.split(/\n/).map(e=>e.trim()).join("<br/>");return'<p class="text-base text-black">'.concat(a,"</p>")}}])t=t.replace(e.regex,e.replace);return'<div class="w-full flex flex-col justify-center items-start">'.concat(t,"</div>")}let d=async e=>{let t=new FormData;t.append("file",e),t.append("upload_preset","yxg1dfzu");try{let e=await fetch("https://api.cloudinary.com/v1_1/".concat("dgwujcdba","/image/upload"),{method:"POST",body:t}),a=await e.json();if(a.secure_url)return a.secure_url;return console.error("Cloudinary error response:",a),{error:"Invalid response from Cloudinary"}}catch(e){return console.error("Upload error:",e),{error:"Upload error"}}};function c(e,t,a){let r=new Date;if("col"===a){let a=[];for(let s=t;s>=0;s--){let t=new Date(r);t.setDate(r.getDate()-s);let n=t.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),o=e.filter(e=>{let a=new Date(e.createdAt);return a.getDate()===t.getDate()&&a.getMonth()===t.getMonth()&&a.getFullYear()===t.getFullYear()});a.push({date:n,total:o.length})}return a}{let a={completed:0,pending:0,cancelled:0},s=new Date(r);return s.setDate(r.getDate()-t),e.forEach(e=>{let t=new Date(e.createdAt);t>=s&&t<=r&&(a[e.status]=(a[e.status]||0)+1)}),Object.entries(a).map(e=>{let[t,a]=e;return{status:t,total:a}})}}function u(e,t){let a=new Date,r=[];for(let s=t;s>=0;s--){let t=new Date(a);t.setDate(a.getDate()-s);let n=t.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),o=e.filter(e=>{let a=new Date(e.joinAt);return a.getDate()===t.getDate()&&a.getMonth()===t.getMonth()&&a.getFullYear()===t.getFullYear()});r.push({date:n,total:o.length})}return r}function m(e,t){let a=new Date,r=[];for(let s=t;s>=0;s--){let t=new Date(a);t.setDate(a.getDate()-s);let n=t.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),o=e.filter(e=>{let a=new Date(e.createdAt);return a.getDate()===t.getDate()&&a.getMonth()===t.getMonth()&&a.getFullYear()===t.getFullYear()}).reduce((e,t)=>e+("completed"===t.status?t.total:0),0);r.push({date:n,total:o/1e3})}return r}function g(e,t,a){let r=new Date,s=[];for(let n=a;n>=0;n--){let a=new Date(r);a.setDate(r.getDate()-n);let o=a.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),l=e.filter(e=>{let t=new Date(e.createdAt);return t.getDate()===a.getDate()&&t.getMonth()===a.getMonth()&&t.getFullYear()===a.getFullYear()}),i=t.filter(e=>{let t=new Date(e.joinAt);return t.getDate()===a.getDate()&&t.getMonth()===a.getMonth()&&t.getFullYear()===a.getFullYear()}),d=l.reduce((e,t)=>e+("completed"===t.status?t.total:0),0);s.push({date:o,totalOrder:l.length,totalRevenue:d/1e7,totalUser:i.length})}return s}},33326:(e,t,a)=>{a.d(t,{Em:()=>l,HU:()=>i,Il:()=>s,eB:()=>o,mJ:()=>n,nv:()=>c,qb:()=>d});var r=a(43415);let s=r.Ik({username:r.Yj(),password:r.Yj().min(8)}),n=r.Ik({username:r.Yj().min(5),password:r.Yj().min(8),confirmPassword:r.Yj().min(8)}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});r.Ik({name:r.Yj().min(3,{message:"Name must be at least 3 characters."}),rating:r.ai().min(1).max(5),comment:r.Yj().min(10,{message:"Comment must be at least 10 characters."}).optional()});let o=r.Ik({name:r.Yj().min(2,{message:"Name must be at least 2 characters."}),email:r.Yj().email({message:"Please enter a valid email address."}),phoneNumber:r.Yj().regex(/^(\+84|0)[3|5|7|8|9][0-9]{8}$/,{message:"Please enter a valid Vietnamese phone number."}),streetAddress:r.Yj().min(5,{message:"Street address must be at least 5 characters."}),city:r.Yj().min(2,{message:"City must be at least 2 characters."}),province:r.Yj().min(2,{message:"Please select a province."})});r.Ik({name:r.Yj(),email:r.Yj().email(),phoneNumber:r.Yj().regex(/^(\+84|0)[3|5|7|8|9][0-9]{8}$/),streetAddress:r.Yj(),city:r.Yj(),province:r.Yj()});let l=r.Ik({title:r.Yj().min(1,"Blog title is required"),blogId:r.Yj().min(1,"Blog ID is required").regex(/^[a-z0-9-]+$/,"Blog ID must contain only lowercase letters, numbers, and hyphens"),content:r.Yj().min(1,"Content is required"),tags:r.YO(r.Yj())}),i=r.Ik({productId:r.Yj().min(1,"Product ID is required"),name:r.Yj().min(1,"Name is required"),price:r.ai().min(0,"Price must be a positive number"),size:r.YO(r.Yj()).min(1,"At least one size must be selected"),color:r.YO(r.Yj()).min(1,"At least one color must be selected"),shortDescription:r.Yj().min(1,"Short description is required"),fullDescription:r.Yj().min(1,"Full description is required"),tags:r.YO(r.Yj())}),d=r.Ik({name:r.Yj().min(2,{message:"Name must be at least 2 characters."}),email:r.Yj().email({message:"Please enter a valid email address."}),phoneNumber:r.Yj().optional(),subject:r.Yj().optional(),message:r.Yj().min(10,{message:"Message must be at least 10 characters."})}),c=r.Ik({about:r.Yj(),address:r.Yj(),phoneNumber:r.Yj(),email:r.Yj().email()})},34078:(e,t,a)=>{a.d(t,{Q7:()=>n,Sq:()=>c,Uj:()=>s,Xt:()=>l,i7:()=>i,lj:()=>d,rF:()=>o,vS:()=>u});var r=a(46820);let s=async()=>{try{let e=await r.A.get("api/image/routes.php");return console.log("Backend Response:",e.data),e.data.data.map(e=>({imageId:e.imageId,src:e.src}))}catch(e){return console.log("Error fetching images:",e),{error:"Error fetching images"}}},n=async e=>{try{let t=await r.A.get("api/image/routes.php?slug=".concat(e,"&type=product"));return console.log("Backend Response:",t.data),t.data.data}catch(e){return console.log("Error fetching image:",e),{error:"Error fetching image"}}},o=async e=>{try{let t=await r.A.get("api/image/routes.php?blogId=".concat(e,"&type=blog"));return console.log("Backend Response:",t.data),t.data.data}catch(e){return console.log("Error fetching image:",e),{error:"Error fetching image"}}},l=async(e,t)=>{try{let a=await r.A.post("api/image/routes.php?slug=".concat(e,"&type=product"),t);return console.log("Backend Response:",a.data),a.data}catch(e){return console.log("Error creating image:",e),{error:"Error creating image"}}},i=async(e,t)=>{try{let a=await r.A.post("api/image/routes.php?slug=".concat(e,"&type=blog"),t);return console.log("Backend Response:",a.data),a.data}catch(e){return console.log("Error creating image:",e),{error:"Error creating image"}}},d=async e=>{try{let t=await r.A.post("api/image/routes.php?type=about",e);return console.log("Backend Response:",t.data),t.data}catch(e){return console.log("Error creating image:",e),{error:"Error creating image"}}},c=async e=>{try{let t=await r.A.put("api/image/routes.php?type=imageId",e);return console.log("Backend Response:",t.data),t.data}catch(e){return console.log("Error updating image:",e),{error:"Error updating image"}}},u=async e=>{try{let t=await r.A.delete("api/image/routes.php?imageId=".concat(e));return console.log("Backend Response:",t.data),t.data}catch(e){return console.log("Error deleting image:",e),{error:"Error deleting image"}}}}}]);