(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2015],{88734:(e,t,r)=>{Promise.resolve().then(r.bind(r,29517))},29517:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var a=r(95155),n=r(12115),o=r(69606),s=r(85060),l=r(14085),i=r(10371),c=r(7837),d=r(3392),u=r(20241),p=r(79918),f=r(34839),m=r(9955),g=r(56378),h=r(97217),v=r(29602),x=r(25572),b=r(33326),j=r(34078);function y(){let[e,t]=(0,n.useState)(),[r,y]=(0,n.useState)([]),[w,N]=(0,n.useState)(""),[E,R]=(0,n.useState)(!1),{toast:C}=(0,u.dj)(),I=(0,o.mN)({resolver:(0,s.u)(b.nv),defaultValues:{about:"",address:"",email:"",phoneNumber:""}});(0,n.useEffect)(()=>{(0,x.a)().then(e=>{"error"in e?C({title:"Error",description:"Failed to fetch site info",variant:"destructive"}):(t(e),I.reset({about:e.aboutOriginal,address:e.address,email:e.email,phoneNumber:e.phoneNumber}))}),(0,j.Uj)().then(e=>{"error"in e?C({title:"Error",description:"Failed to fetch images",variant:"destructive"}):y(e.filter(e=>e.imageId.startsWith("about")).map(e=>({alt:e.imageId,src:e.src,file:null})))})},[]);let D=async e=>{try{R(!0);let t=r.filter(e=>e.src.startsWith("blob")),a=(await Promise.all(r.map(async e=>{try{if(!e.src.startsWith("blob"))return{alt:e.alt,src:e.src};{let r=await (0,v.cV)(e.file);if("string"==typeof r)return t.forEach(t=>{e.alt===t.alt&&(t.src=r)}),{alt:e.alt,src:r};return console.log("Error uploading image:",e.alt),C({title:"Error",description:"Error uploading image ".concat(e.alt),variant:"destructive"}),null}}catch(e){return console.log("Error saving image:",e),C({title:"Error",description:"Error saving image",variant:"destructive"}),null}}))).filter(e=>null!==e);if(a.length!==r.length){C({title:"Error",description:"Failed to upload all images",variant:"destructive"});return}console.log("uploaded",a);let n=e.about;n=n.replace(/IMG<([^,]+)(?:,\s*(\d+))?(?:,\s*(\d+))?>/g,(e,t,r,n)=>{let o=a.find(e=>e.alt===t);return o?"IMG<".concat(t,",").concat(o.src).concat(r?",".concat(r):"").concat(n?",".concat(n):"",">"):(C({title:"Error",description:'Image with alt "'.concat(t,'" not found'),variant:"destructive"}),e)});let o=(0,v.QH)(n);await (0,x.v)({about:o,aboutOriginal:e.about,address:e.address,email:e.email,phoneNumber:e.phoneNumber}).then(e=>{if("error"in e){C({title:"Error",description:"Something went wrong while creating the blog.",variant:"destructive"}),R(!1);return}C({title:"Blog Created",description:"Your blog has been successfully created!"})}).then(()=>{t.forEach(async e=>{await (0,j.lj)({src:e.src,imageId:e.alt}).then(e=>{"error"in e&&C({title:"Error",description:"Something went wrong while creating the about images.",variant:"destructive"})})})}).finally(()=>{R(!1)})}catch(e){console.error("Error in onSubmit:",e),C({title:"Error",description:"Something went wrong while updating site info.",variant:"destructive"})}};return(0,a.jsx)("div",{className:"w-full ",children:(0,a.jsxs)(f.lV,{...I,children:[(0,a.jsx)("form",{onSubmit:I.handleSubmit(D),className:"space-y-8 p-4",children:(0,a.jsxs)("div",{className:"flex space-x-10",children:[(0,a.jsxs)("div",{className:"w-3/4 space-y-4",children:[(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)(f.zB,{control:I.control,name:"address",render:e=>{let{field:t}=e;return(0,a.jsxs)(f.eI,{className:"flex-1",children:[(0,a.jsx)(f.lR,{children:"Address"}),(0,a.jsx)(f.MJ,{children:(0,a.jsx)(m.p,{placeholder:"Enter company address",...t})}),(0,a.jsx)(f.C5,{})]})}}),(0,a.jsx)(f.zB,{control:I.control,name:"email",render:e=>{let{field:t}=e;return(0,a.jsxs)(f.eI,{className:"flex-1",children:[(0,a.jsx)(f.lR,{children:"Email"}),(0,a.jsx)(f.MJ,{children:(0,a.jsx)(m.p,{placeholder:"Enter company email",...t})}),(0,a.jsx)(f.C5,{})]})}}),(0,a.jsx)(f.zB,{control:I.control,name:"phoneNumber",render:e=>{let{field:t}=e;return(0,a.jsxs)(f.eI,{className:"flex-1",children:[(0,a.jsx)(f.lR,{children:"Phone number"}),(0,a.jsx)(f.MJ,{children:(0,a.jsx)(m.p,{placeholder:"Enter company phone number",...t})}),(0,a.jsx)(f.C5,{})]})}})]}),(0,a.jsx)(f.zB,{control:I.control,name:"about",render:e=>{let{field:t}=e;return(0,a.jsxs)(f.eI,{children:[(0,a.jsx)(f.lR,{children:"About"}),(0,a.jsx)(f.MJ,{children:(0,a.jsx)(i.T,{placeholder:"Write your company introduction here",className:"min-h-[300px]",...t})}),(0,a.jsx)(f.C5,{})]})}})]}),(0,a.jsxs)("div",{className:"w-1/4 space-y-4",children:[(0,a.jsx)("p",{className:"text-lg font-bold",children:"Choose images for about"}),(0,a.jsx)(g.A,{uploadedImages:r,onUpload:e=>{let t=URL.createObjectURL(e),r=e.name.split(".").slice(0,-1).join(".");y(a=>[...a,{alt:r,src:t,file:e}])},onDelete:e=>{y(t=>{let r=t.filter(t=>t.src!==e);return URL.revokeObjectURL(e),r})},onUpdateAlt:(e,t)=>{y(r=>r.map(r=>r.alt===e?{...r,alt:t}:r))},isEditing:!0}),(0,a.jsxs)(c.lG,{children:[(0,a.jsx)(c.zM,{asChild:!0,children:(0,a.jsx)(l.$,{onClick:()=>{let e=I.getValues("about");e=e.replace(/IMG<([^,]+)(?:,\s*(\d+))?(?:,\s*(\d+))?>/g,(e,t,a,n)=>{let o=r.find(e=>e.alt===t);return o?"IMG<".concat(t,",").concat(o.src).concat(a?",".concat(a):"").concat(n?",".concat(n):"",">"):(C({title:"Error",description:'Image with alt "'.concat(t,'" not found'),variant:"destructive"}),e)}),N((0,v.QH)(e))},className:"w-full",children:"Preview"})}),(0,a.jsxs)(c.Cf,{className:"max-w-4xl max-h-[80vh]",children:[(0,a.jsx)(c.c7,{children:(0,a.jsx)(c.L3,{children:"Blog Preview"})}),(0,a.jsx)(d.F,{className:"h-full max-h-[calc(80vh-4rem)]",children:(0,a.jsx)(h.A,{content:w})})]})]}),(0,a.jsx)(l.$,{type:"submit",className:"".concat(E?"bg-[#030391]/20 cursor-not-allowed hover:bg-[#030391]/20 active:bg-[#030391]/20":"bg-sub hover:bg-main/90 active:bg-main/95"," w-full relative"),children:E?(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border-b border-gray-900"})}):"Update site info"})]})]})}),(0,a.jsx)(p.Toaster,{})]})})}},79918:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>v});var a=r(95155),n=r(20241),o=r(12115),s=r(9930),l=r(31027),i=r(689),c=r(29602);let d=s.Kq,u=o.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.LM,{ref:t,className:(0,c.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",r),...n})});u.displayName=s.LM.displayName;let p=(0,l.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),f=o.forwardRef((e,t)=>{let{className:r,variant:n,...o}=e;return(0,a.jsx)(s.bL,{ref:t,className:(0,c.cn)(p({variant:n}),r),...o})});f.displayName=s.bL.displayName,o.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.rc,{ref:t,className:(0,c.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",r),...n})}).displayName=s.rc.displayName;let m=o.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.bm,{ref:t,className:(0,c.cn)("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",r),"toast-close":"",...n,children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})});m.displayName=s.bm.displayName;let g=o.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.hE,{ref:t,className:(0,c.cn)("text-sm font-semibold [&+div]:text-xs",r),...n})});g.displayName=s.hE.displayName;let h=o.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.VY,{ref:t,className:(0,c.cn)("text-sm opacity-90",r),...n})});function v(){let{toasts:e}=(0,n.dj)();return(0,a.jsxs)(d,{children:[e.map(function(e){let{id:t,title:r,description:n,action:o,...s}=e;return(0,a.jsxs)(f,{...s,children:[(0,a.jsxs)("div",{className:"grid gap-1",children:[r&&(0,a.jsx)(g,{children:r}),n&&(0,a.jsx)(h,{children:n})]}),o,(0,a.jsx)(m,{})]},t)}),(0,a.jsx)(u,{})]})}h.displayName=s.VY.displayName},25572:(e,t,r)=>{"use strict";r.d(t,{a:()=>n,v:()=>o});var a=r(46820);let n=async()=>{try{let e=await a.A.get("api/siteInfo/routes.php");console.log("Backend Response:",e.data.data);let{about:t,about_original:r,address:n,email:o,phone_number:s}=e.data.data;return{about:t,aboutOriginal:r,address:n,email:o,phoneNumber:s}}catch(e){return console.log("Error fetching site info:",e),{error:"Error fetching site info"}}},o=async e=>{try{let t=await a.A.put("api/siteInfo/routes.php",e);return console.log("Backend Response:",t.data),{message:t.data.message}}catch(e){return console.log("Error updating site info:",e),{error:"Error updating site info"}}}},66217:(e,t,r)=>{"use strict";r.d(t,{UC:()=>et,VY:()=>ea,ZL:()=>X,bL:()=>K,bm:()=>en,hE:()=>er,hJ:()=>ee,l9:()=>Q});var a=r(12115),n=r(93610),o=r(88068),s=r(18166),l=r(67668),i=r(1488),c=r(59674),d=r(20196),u=r(17323),p=r(17028),f=r(23360),m=r(62292),g=r(74073),h=r(15587),v=r(12317),x=r(95155),b="Dialog",[j,y]=(0,s.A)(b),[w,N]=j(b),E=e=>{let{__scopeDialog:t,children:r,open:n,defaultOpen:o,onOpenChange:s,modal:c=!0}=e,d=a.useRef(null),u=a.useRef(null),[p=!1,f]=(0,i.i)({prop:n,defaultProp:o,onChange:s});return(0,x.jsx)(w,{scope:t,triggerRef:d,contentRef:u,contentId:(0,l.B)(),titleId:(0,l.B)(),descriptionId:(0,l.B)(),open:p,onOpenChange:f,onOpenToggle:a.useCallback(()=>f(e=>!e),[f]),modal:c,children:r})};E.displayName=b;var R="DialogTrigger",C=a.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,s=N(R,r),l=(0,o.s)(t,s.triggerRef);return(0,x.jsx)(f.sG.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":q(s.open),...a,ref:l,onClick:(0,n.m)(e.onClick,s.onOpenToggle)})});C.displayName=R;var I="DialogPortal",[D,O]=j(I,{forceMount:void 0}),A=e=>{let{__scopeDialog:t,forceMount:r,children:n,container:o}=e,s=N(I,t);return(0,x.jsx)(D,{scope:t,forceMount:r,children:a.Children.map(n,e=>(0,x.jsx)(p.C,{present:r||s.open,children:(0,x.jsx)(u.Z,{asChild:!0,container:o,children:e})}))})};A.displayName=I;var F="DialogOverlay",k=a.forwardRef((e,t)=>{let r=O(F,e.__scopeDialog),{forceMount:a=r.forceMount,...n}=e,o=N(F,e.__scopeDialog);return o.modal?(0,x.jsx)(p.C,{present:a||o.open,children:(0,x.jsx)(_,{...n,ref:t})}):null});k.displayName=F;var _=a.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,n=N(F,r);return(0,x.jsx)(g.A,{as:v.DX,allowPinchZoom:!0,shards:[n.contentRef],children:(0,x.jsx)(f.sG.div,{"data-state":q(n.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),M="DialogContent",P=a.forwardRef((e,t)=>{let r=O(M,e.__scopeDialog),{forceMount:a=r.forceMount,...n}=e,o=N(M,e.__scopeDialog);return(0,x.jsx)(p.C,{present:a||o.open,children:o.modal?(0,x.jsx)(B,{...n,ref:t}):(0,x.jsx)(S,{...n,ref:t})})});P.displayName=M;var B=a.forwardRef((e,t)=>{let r=N(M,e.__scopeDialog),s=a.useRef(null),l=(0,o.s)(t,r.contentRef,s);return a.useEffect(()=>{let e=s.current;if(e)return(0,h.Eq)(e)},[]),(0,x.jsx)(L,{...e,ref:l,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,n.m)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null===(t=r.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:(0,n.m)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,n.m)(e.onFocusOutside,e=>e.preventDefault())})}),S=a.forwardRef((e,t)=>{let r=N(M,e.__scopeDialog),n=a.useRef(!1),o=a.useRef(!1);return(0,x.jsx)(L,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var a,s;null===(a=e.onCloseAutoFocus)||void 0===a||a.call(e,t),t.defaultPrevented||(n.current||null===(s=r.triggerRef.current)||void 0===s||s.focus(),t.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:t=>{var a,s;null===(a=e.onInteractOutside)||void 0===a||a.call(e,t),t.defaultPrevented||(n.current=!0,"pointerdown"!==t.detail.originalEvent.type||(o.current=!0));let l=t.target;(null===(s=r.triggerRef.current)||void 0===s?void 0:s.contains(l))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&o.current&&t.preventDefault()}})}),L=a.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:l,...i}=e,u=N(M,r),p=a.useRef(null),f=(0,o.s)(t,p);return(0,m.Oh)(),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(d.n,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:l,children:(0,x.jsx)(c.qW,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":q(u.open),...i,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(H,{titleId:u.titleId}),(0,x.jsx)(Z,{contentRef:p,descriptionId:u.descriptionId})]})]})}),G="DialogTitle",U=a.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,n=N(G,r);return(0,x.jsx)(f.sG.h2,{id:n.titleId,...a,ref:t})});U.displayName=G;var V="DialogDescription",T=a.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,n=N(V,r);return(0,x.jsx)(f.sG.p,{id:n.descriptionId,...a,ref:t})});T.displayName=V;var W="DialogClose",z=a.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,o=N(W,r);return(0,x.jsx)(f.sG.button,{type:"button",...a,ref:t,onClick:(0,n.m)(e.onClick,()=>o.onOpenChange(!1))})});function q(e){return e?"open":"closed"}z.displayName=W;var J="DialogTitleWarning",[Y,$]=(0,s.q)(J,{contentName:M,titleName:G,docsSlug:"dialog"}),H=e=>{let{titleId:t}=e,r=$(J),n="`".concat(r.contentName,"` requires a `").concat(r.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(r.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(r.docsSlug);return a.useEffect(()=>{t&&!document.getElementById(t)&&console.error(n)},[n,t]),null},Z=e=>{let{contentRef:t,descriptionId:r}=e,n=$("DialogDescriptionWarning"),o="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(n.contentName,"}.");return a.useEffect(()=>{var e;let a=null===(e=t.current)||void 0===e?void 0:e.getAttribute("aria-describedby");r&&a&&!document.getElementById(r)&&console.warn(o)},[o,t,r]),null},K=E,Q=C,X=A,ee=k,et=P,er=U,ea=T,en=z},31027:(e,t,r)=>{"use strict";r.d(t,{F:()=>s});var a=r(43463);let n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,o=a.$,s=(e,t)=>r=>{var a;if((null==t?void 0:t.variants)==null)return o(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:s,defaultVariants:l}=t,i=Object.keys(s).map(e=>{let t=null==r?void 0:r[e],a=null==l?void 0:l[e];if(null===t)return null;let o=n(t)||n(a);return s[e][o]}),c=r&&Object.entries(r).reduce((e,t)=>{let[r,a]=t;return void 0===a||(e[r]=a),e},{});return o(e,i,null==t?void 0:null===(a=t.compoundVariants)||void 0===a?void 0:a.reduce((e,t)=>{let{class:r,className:a,...n}=t;return Object.entries(n).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...l,...c}[t]):({...l,...c})[t]===r})?[...e,r,a]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},27193:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(14057).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[2651,1345,1080,914,7518,8979,1868,998,4548,8441,1517,7358],()=>t(88734)),_N_E=e.O()}]);