(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2352],{32545:(e,t,r)=>{Promise.resolve().then(r.bind(r,38104))},46820:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=r(82651).A.create({baseURL:"http://localhost:5050",withCredentials:!0})},38104:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>T});var a=r(95155),s=r(12115),o=r(35007),n=r(18652),l=r(70874),c=r(35408),d=r(22949),i=r(29602),u=r(58581),p=r(394),g=r(12800),m=r(66963),h=r(23021),f=r(94973),x=r(15255),y=r(16161),v=r(22175),j=r(90457),w=r(67732),b=r(40654),N=r(27112),k=r(86354);let I={light:"",dark:".dark"},E=s.createContext(null);function R(){let e=s.useContext(E);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}let A=s.forwardRef((e,t)=>{let{id:r,className:o,children:n,config:l,...c}=e,d=s.useId(),p="chart-".concat(r||d.replace(/:/g,""));return(0,a.jsx)(E.Provider,{value:{config:l},children:(0,a.jsxs)("div",{"data-chart":p,ref:t,className:(0,i.cn)("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",o),...c,children:[(0,a.jsx)(D,{id:p,config:l}),(0,a.jsx)(u.u,{children:n})]})})});A.displayName="Chart";let D=e=>{let{id:t,config:r}=e,s=Object.entries(r).filter(e=>{let[,t]=e;return t.theme||t.color});return s.length?(0,a.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(I).map(e=>{let[r,a]=e;return"\n".concat(a," [data-chart=").concat(t,"] {\n").concat(s.map(e=>{var t;let[a,s]=e,o=(null===(t=s.theme)||void 0===t?void 0:t[r])||s.color;return o?"  --color-".concat(a,": ").concat(o,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null},B=N.m,L=s.forwardRef((e,t)=>{let{active:r,payload:o,className:n,indicator:l="dot",hideLabel:c=!1,hideIndicator:d=!1,label:u,labelFormatter:p,labelClassName:g,formatter:m,color:h,nameKey:f,labelKey:x}=e,{config:y}=R(),v=s.useMemo(()=>{var e;if(c||!(null==o?void 0:o.length))return null;let[t]=o,r="".concat(x||t.dataKey||t.name||"value"),s=S(y,t,r),n=x||"string"!=typeof u?null==s?void 0:s.label:(null===(e=y[u])||void 0===e?void 0:e.label)||u;return p?(0,a.jsx)("div",{className:(0,i.cn)("font-medium",g),children:p(n,o)}):n?(0,a.jsx)("div",{className:(0,i.cn)("font-medium",g),children:n}):null},[u,p,o,c,g,y,x]);if(!r||!(null==o?void 0:o.length))return null;let j=1===o.length&&"dot"!==l;return(0,a.jsxs)("div",{ref:t,className:(0,i.cn)("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[j?null:v,(0,a.jsx)("div",{className:"grid gap-1.5",children:o.map((e,t)=>{let r="".concat(f||e.name||e.dataKey||"value"),s=S(y,e,r),o=h||e.payload.fill||e.color;return(0,a.jsx)("div",{className:(0,i.cn)("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground","dot"===l&&"items-center"),children:m&&(null==e?void 0:e.value)!==void 0&&e.name?m(e.value,e.name,e,t,e.payload):(0,a.jsxs)(a.Fragment,{children:[(null==s?void 0:s.icon)?(0,a.jsx)(s.icon,{}):!d&&(0,a.jsx)("div",{className:(0,i.cn)("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===l,"w-1":"line"===l,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===l,"my-0.5":j&&"dashed"===l}),style:{"--color-bg":o,"--color-border":o}}),(0,a.jsxs)("div",{className:(0,i.cn)("flex flex-1 justify-between leading-none",j?"items-end":"items-center"),children:[(0,a.jsxs)("div",{className:"grid gap-1.5",children:[j?v:null,(0,a.jsx)("span",{className:"text-muted-foreground",children:(null==s?void 0:s.label)||e.name})]}),e.value&&(0,a.jsx)("span",{className:"font-mono font-medium tabular-nums text-foreground",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})});function S(e,t,r){if("object"!=typeof t||null===t)return;let a="payload"in t&&"object"==typeof t.payload&&null!==t.payload?t.payload:void 0,s=r;return r in t&&"string"==typeof t[r]?s=t[r]:a&&r in a&&"string"==typeof a[r]&&(s=a[r]),s in e?e[s]:e[r]}L.displayName="ChartTooltip",k.s,s.forwardRef((e,t)=>{let{className:r,hideIcon:s=!1,payload:o,verticalAlign:n="bottom",nameKey:l}=e,{config:c}=R();return(null==o?void 0:o.length)?(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center justify-center gap-4","top"===n?"pb-3":"pt-3",r),children:o.map(e=>{let t="".concat(l||e.dataKey||"value"),r=S(c,e,t);return(0,a.jsxs)("div",{className:(0,i.cn)("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[(null==r?void 0:r.icon)&&!s?(0,a.jsx)(r.icon,{}):(0,a.jsx)("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:e.color}}),null==r?void 0:r.label]},e.value)})}):null}).displayName="ChartLegend";var _=r(50745);let C={completed:{label:"Completed",color:"#4bf542"},pending:{label:"Pending",color:"hsl(48, 96%, 53%)"},cancelled:{label:"Rejected",color:"hsl(0, 84%, 60%)"}},O={totalOrder:{label:"Total Orders",color:"hsl(220 70% 50%)"},totalUser:{label:"Total Users",color:"hsl(160 60% 45%)"},totalRevenue:{label:"Total Revenue",color:"hsl(30 80% 55%)"}},T=()=>{var e,t,r;let[N,k]=(0,s.useState)([]),[I,E]=(0,s.useState)([]),[R,D]=(0,s.useState)([]),[S,T]=(0,s.useState)([]),[F,P]=(0,s.useState)([]),[K,U]=(0,s.useState)(7),[z,M]=(0,s.useState)([]),[W,Z]=(0,s.useState)([]),[V,q]=(0,s.useState)([]),[Y,J]=(0,s.useState)([]),[$,G]=(0,s.useState)([]),[H,Q]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{Promise.all([(0,n.Fo)(),(0,l.Vd)(),(0,c.CF)(),(0,d.zu)()]).then(e=>{let[t,r,a,s]=e;console.log(t,r,a),"error"in t?console.error(t.error):D(t),"error"in r?console.error(r.error):E(r),"error"in a?console.error(a.error):T(a),"error"in s?console.error(s.error):P(s),Q(!1)})},[]),(0,s.useEffect)(()=>{M((0,i.gI)(I,K,"col")),Z((0,i.gI)(I,K,"pie")),q((0,i.dw)(S,K)),J((0,i.Vi)(I,K)),console.log("rev",(0,i.Vi)(I,K)),G((0,i.oE)(I,S,K)),console.log("line",(0,i.oE)(I,S,K)),k([{title:"Total Orders",value:I.length.toString(),subValue:"".concat(I.filter(e=>"completed"===e.status).length," completed, ").concat(I.filter(e=>"pending"===e.status).length," pending, ").concat(I.filter(e=>"cancelled"===e.status).length," cancelled")},{title:"Total Revenue",value:(0,i.$g)(I.filter(e=>"completed"===e.status).reduce((e,t)=>e+t.total,0))},{title:"Total Users",value:S.length.toString(),subValue:"".concat(S.filter(e=>"active"===e.status).length," active, ").concat(S.filter(e=>"banned"===e.status).length," banned")},{title:"Total Products",value:R.length.toString()},{title:"Total Reviews",value:F.length.toString()}])},[I,S,R,K]),(0,a.jsx)("div",{className:"w-full flex h-full",children:(0,a.jsxs)("div",{className:"p-6 flex flex-col space-y-4 w-full",children:[(0,a.jsx)("h1",{className:"font-bold text-2xl",children:"Dashboard"}),(0,a.jsx)("div",{className:"w-full ",children:(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:N.map((e,t)=>(0,a.jsxs)(o.Zp,{className:"",children:[(0,a.jsx)(o.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:(0,a.jsx)(o.ZB,{className:"text-sm font-medium",children:e.title})}),(0,a.jsxs)(o.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:e.value}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:null==e?void 0:e.subValue})]})]},t))})}),(0,a.jsx)("div",{children:(0,a.jsxs)(_.l6,{value:K.toString(),onValueChange:e=>U(parseInt(e)),children:[(0,a.jsx)(_.bq,{className:"w-[180px]",children:(0,a.jsx)(_.yv,{placeholder:"Select period"})}),(0,a.jsxs)(_.gC,{children:[(0,a.jsx)(_.eb,{value:"7",children:"Last 7 days"}),(0,a.jsx)(_.eb,{value:"30",children:"Last 30 days"})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[(0,a.jsxs)(o.Zp,{children:[(0,a.jsxs)(o.aR,{children:[(0,a.jsx)(o.ZB,{children:"Orders"}),(0,a.jsxs)(o.BT,{children:["Last ",K," days"]})]}),(0,a.jsx)(o.Wu,{className:"pt-2",children:(0,a.jsx)(u.u,{width:"100%",height:300,children:(0,a.jsxs)(p.E,{data:z,children:[(0,a.jsx)(g.W,{dataKey:"date",stroke:"#888888",tickLine:!1,axisLine:!1}),(0,a.jsx)(m.h,{stroke:"#888888",tickLine:!1,axisLine:!1,allowDecimals:!1,tickFormatter:e=>"".concat(e)}),(0,a.jsx)(h.y,{dataKey:"total",fill:"#adfa1d",radius:[4,4,0,0]})]})})})]}),(0,a.jsxs)(o.Zp,{children:[(0,a.jsxs)(o.aR,{children:[(0,a.jsx)(o.ZB,{children:"Users"}),(0,a.jsxs)(o.BT,{children:["Last ",K," days"]})]}),(0,a.jsx)(o.Wu,{className:"pt-2",children:(0,a.jsx)(u.u,{width:"100%",height:300,children:(0,a.jsxs)(p.E,{data:V,children:[(0,a.jsx)(g.W,{dataKey:"date",stroke:"#888888",tickLine:!1,axisLine:!1}),(0,a.jsx)(m.h,{stroke:"#888888",tickLine:!1,axisLine:!1,allowDecimals:!1,tickFormatter:e=>"".concat(e)}),(0,a.jsx)(h.y,{dataKey:"total",fill:"#2563eb",radius:[4,4,0,0]})]})})})]}),(0,a.jsxs)(o.Zp,{children:[(0,a.jsxs)(o.aR,{children:[(0,a.jsx)(o.ZB,{children:"Revenue (1000 VND)"}),(0,a.jsxs)(o.BT,{children:["Last ",K," days"]})]}),(0,a.jsx)(o.Wu,{className:"pt-2",children:(0,a.jsx)(u.u,{width:"100%",height:300,children:(0,a.jsxs)(p.E,{data:Y,children:[(0,a.jsx)(g.W,{dataKey:"date",stroke:"#888888",tickLine:!1,axisLine:!1}),(0,a.jsx)(m.h,{stroke:"#888888",tickLine:!1,axisLine:!1,allowDecimals:!1,tickFormatter:e=>"".concat(e)}),(0,a.jsx)(h.y,{dataKey:"total",fill:"#adfa1d",radius:[4,4,0,0]})]})})})]}),(0,a.jsxs)(o.Zp,{children:[(0,a.jsxs)(o.aR,{children:[(0,a.jsx)(o.ZB,{children:"Orders statuses"}),(0,a.jsxs)(o.BT,{children:["Last ",K," days"]})]}),(0,a.jsx)(o.Wu,{children:(0,a.jsx)(A,{config:C,className:"mx-auto aspect-square h-[300px]",children:(0,a.jsxs)(v.r,{children:[(0,a.jsx)(B,{content:(0,a.jsx)(L,{})}),(0,a.jsxs)(j.F,{data:W,dataKey:"total",nameKey:"status",cx:"50%",cy:"50%",outerRadius:150,label:!0,children:[W.map((e,t)=>(0,a.jsx)(w.f,{fill:C[e.status].color},"cell-".concat(t))),(0,a.jsx)(b.Z,{dataKey:"status",position:"outside",className:"fill-foreground",formatter:e=>C[e].label})]})]})})}),(0,a.jsxs)(o.wL,{className:"flex justify-between text-sm text-muted-foreground",children:[(0,a.jsxs)("div",{children:["Completed:"," ",(null===(e=W.find(e=>"completed"===e.status))||void 0===e?void 0:e.total)||0]}),(0,a.jsxs)("div",{children:["Pending:"," ",(null===(t=W.find(e=>"pending"===e.status))||void 0===t?void 0:t.total)||0]}),(0,a.jsxs)("div",{children:["Cancelled:"," ",(null===(r=W.find(e=>"cancelled"===e.status))||void 0===r?void 0:r.total)||0]})]})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 mt-6",children:(0,a.jsxs)(o.Zp,{children:[(0,a.jsxs)(o.aR,{children:[(0,a.jsx)(o.ZB,{children:"Orders, Revenue and User registered"}),(0,a.jsxs)(o.BT,{children:["Last ",K," days"]})]}),(0,a.jsx)(o.Wu,{children:(0,a.jsx)(A,{config:O,className:"h-[300px] w-full",children:(0,a.jsxs)(f.b,{accessibilityLayer:!0,data:$,margin:{left:12,right:12},children:[(0,a.jsx)(x.d,{vertical:!0}),(0,a.jsx)(g.W,{dataKey:"date",tickLine:!0,axisLine:!0,tickMargin:8,tickFormatter:e=>e.slice(0,10)}),(0,a.jsx)(B,{cursor:!1,content:(0,a.jsx)(L,{})}),(0,a.jsx)(y.N,{dataKey:"totalOrder",type:"monotone",stroke:"hsl(220 70% 50%)",strokeWidth:2,dot:!1}),(0,a.jsx)(y.N,{dataKey:"totalUser",type:"monotone",stroke:"hsl(160 60% 45%)",strokeWidth:2,dot:!1}),(0,a.jsx)(y.N,{dataKey:"totalRevenue",type:"monotone",stroke:"hsl(30 80% 55%)",strokeWidth:2,dot:!1})]})})}),(0,a.jsx)(o.wL,{children:(0,a.jsxs)("div",{className:"flex justify-between w-full text-sm text-muted-foreground",children:[(0,a.jsxs)("div",{children:["Total Orders:"," ",$.reduce((e,t)=>e+t.totalOrder,0)]}),(0,a.jsxs)("div",{children:["Total Users:"," ",$.reduce((e,t)=>e+t.totalUser,0)]}),(0,a.jsxs)("div",{children:["Total Revenue:"," ",$.reduce((e,t)=>e+t.totalRevenue,0)," ","(10M VND)"]})]})})]})})]})})}},35007:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>i,ZB:()=>c,Zp:()=>n,aR:()=>l,wL:()=>u});var a=r(95155),s=r(12115),o=r(29602);let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...s})});n.displayName="Card";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",r),...s})});l.displayName="CardHeader";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("font-semibold leading-none tracking-tight",r),...s})});c.displayName="CardTitle";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",r),...s})});d.displayName="CardDescription";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("p-6 pt-0",r),...s})});i.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",r),...s})});u.displayName="CardFooter"},50745:(e,t,r)=>{"use strict";r.d(t,{bq:()=>p,eb:()=>f,gC:()=>h,l6:()=>i,yv:()=>u});var a=r(95155),s=r(12115),o=r(63409),n=r(32645),l=r(52488),c=r(27193),d=r(29602);let i=o.bL;o.YJ;let u=o.WT,p=s.forwardRef((e,t)=>{let{className:r,children:s,...l}=e;return(0,a.jsxs)(o.l9,{ref:t,className:(0,d.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...l,children:[s,(0,a.jsx)(o.In,{asChild:!0,children:(0,a.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});p.displayName=o.l9.displayName;let g=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(o.PP,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",r),...s,children:(0,a.jsx)(l.A,{className:"h-4 w-4"})})});g.displayName=o.PP.displayName;let m=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(o.wn,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",r),...s,children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})});m.displayName=o.wn.displayName;let h=s.forwardRef((e,t)=>{let{className:r,children:s,position:n="popper",...l}=e;return(0,a.jsx)(o.ZL,{children:(0,a.jsxs)(o.UC,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:n,...l,children:[(0,a.jsx)(g,{}),(0,a.jsx)(o.LM,{className:(0,d.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,a.jsx)(m,{})]})})});h.displayName=o.UC.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(o.JU,{ref:t,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",r),...s})}).displayName=o.JU.displayName;let f=s.forwardRef((e,t)=>{let{className:r,children:s,...n}=e;return(0,a.jsxs)(o.q7,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...n,children:[(0,a.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(o.VF,{children:(0,a.jsx)(c.A,{className:"h-4 w-4"})})}),(0,a.jsx)(o.p4,{children:s})]})});f.displayName=o.q7.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(o.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",r),...s})}).displayName=o.wv.displayName},29602:(e,t,r)=>{"use strict";r.d(t,{$g:()=>n,QH:()=>c,Vi:()=>p,Yq:()=>l,cV:()=>d,cn:()=>o,dw:()=>u,gI:()=>i,oE:()=>g});var a=r(43463),s=r(69795);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}let n=e=>e.toLocaleString("en-US",{style:"currency",currency:"VND",currencyDisplay:"code"});function l(e){return new Intl.DateTimeFormat("vi-VN",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}).format(e)}function c(e){let t=e;for(let e of[{regex:/HEADLINE<([^>]+)>/g,replace:'<h1 class="text-2xl font-bold mb-4">$1</h1>'},{regex:/SECTION<([^>]+)>/g,replace:'<h2 class="text-lg font-bold mb-2">$1</h2>'},{regex:/LINK<([^,]+),\s*([^>]+)>/g,replace:'<a href="$2" class="text-black hover:text-slate-500 underline">$1</a>'},{regex:/IMG<([^,]+),\s*([^,]+)(?:,\s*(\d+))?(?:,\s*(\d+))?>/g,replace:(e,t,r,a,s)=>'<div class="w-full flex justify-center items-center">\n            <Image src="'.concat(r,'" alt="').concat(t,'" ').concat(a?'width="'.concat(a,'"'):""," ").concat(s?'height="'.concat(s,'"'):"",' class="rounded-lg" /></div>')},{regex:/P<([^>]+)>/g,replace:(e,t)=>{let r=t.split(/\n/).map(e=>e.trim()).join("<br/>");return'<p class="text-base text-black">'.concat(r,"</p>")}}])t=t.replace(e.regex,e.replace);return'<div class="w-full flex flex-col justify-center items-start">'.concat(t,"</div>")}let d=async e=>{let t=new FormData;t.append("file",e),t.append("upload_preset","yxg1dfzu");try{let e=await fetch("https://api.cloudinary.com/v1_1/".concat("dgwujcdba","/image/upload"),{method:"POST",body:t}),r=await e.json();if(r.secure_url)return r.secure_url;return console.error("Cloudinary error response:",r),{error:"Invalid response from Cloudinary"}}catch(e){return console.error("Upload error:",e),{error:"Upload error"}}};function i(e,t,r){let a=new Date;if("col"===r){let r=[];for(let s=t;s>=0;s--){let t=new Date(a);t.setDate(a.getDate()-s);let o=t.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),n=e.filter(e=>{let r=new Date(e.createdAt);return r.getDate()===t.getDate()&&r.getMonth()===t.getMonth()&&r.getFullYear()===t.getFullYear()});r.push({date:o,total:n.length})}return r}{let r={completed:0,pending:0,cancelled:0},s=new Date(a);return s.setDate(a.getDate()-t),e.forEach(e=>{let t=new Date(e.createdAt);t>=s&&t<=a&&(r[e.status]=(r[e.status]||0)+1)}),Object.entries(r).map(e=>{let[t,r]=e;return{status:t,total:r}})}}function u(e,t){let r=new Date,a=[];for(let s=t;s>=0;s--){let t=new Date(r);t.setDate(r.getDate()-s);let o=t.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),n=e.filter(e=>{let r=new Date(e.joinAt);return r.getDate()===t.getDate()&&r.getMonth()===t.getMonth()&&r.getFullYear()===t.getFullYear()});a.push({date:o,total:n.length})}return a}function p(e,t){let r=new Date,a=[];for(let s=t;s>=0;s--){let t=new Date(r);t.setDate(r.getDate()-s);let o=t.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),n=e.filter(e=>{let r=new Date(e.createdAt);return r.getDate()===t.getDate()&&r.getMonth()===t.getMonth()&&r.getFullYear()===t.getFullYear()}).reduce((e,t)=>e+("completed"===t.status?t.total:0),0);a.push({date:o,total:n/1e3})}return a}function g(e,t,r){let a=new Date,s=[];for(let o=r;o>=0;o--){let r=new Date(a);r.setDate(a.getDate()-o);let n=r.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),l=e.filter(e=>{let t=new Date(e.createdAt);return t.getDate()===r.getDate()&&t.getMonth()===r.getMonth()&&t.getFullYear()===r.getFullYear()}),c=t.filter(e=>{let t=new Date(e.joinAt);return t.getDate()===r.getDate()&&t.getMonth()===r.getMonth()&&t.getFullYear()===r.getFullYear()}),d=l.reduce((e,t)=>e+("completed"===t.status?t.total:0),0);s.push({date:n,totalOrder:l.length,totalRevenue:d/1e7,totalUser:c.length})}return s}},34078:(e,t,r)=>{"use strict";r.d(t,{Q7:()=>o,Sq:()=>i,Uj:()=>s,Xt:()=>l,i7:()=>c,lj:()=>d,rF:()=>n,vS:()=>u});var a=r(46820);let s=async()=>{try{let e=await a.A.get("api/image/routes.php");return console.log("Backend Response:",e.data),e.data.data.map(e=>({imageId:e.imageId,src:e.src}))}catch(e){return console.log("Error fetching images:",e),{error:"Error fetching images"}}},o=async e=>{try{let t=await a.A.get("api/image/routes.php?slug=".concat(e,"&type=product"));return console.log("Backend Response:",t.data),t.data.data}catch(e){return console.log("Error fetching image:",e),{error:"Error fetching image"}}},n=async e=>{try{let t=await a.A.get("api/image/routes.php?blogId=".concat(e,"&type=blog"));return console.log("Backend Response:",t.data),t.data.data}catch(e){return console.log("Error fetching image:",e),{error:"Error fetching image"}}},l=async(e,t)=>{try{let r=await a.A.post("api/image/routes.php?slug=".concat(e,"&type=product"),t);return console.log("Backend Response:",r.data),r.data}catch(e){return console.log("Error creating image:",e),{error:"Error creating image"}}},c=async(e,t)=>{try{let r=await a.A.post("api/image/routes.php?slug=".concat(e,"&type=blog"),t);return console.log("Backend Response:",r.data),r.data}catch(e){return console.log("Error creating image:",e),{error:"Error creating image"}}},d=async e=>{try{let t=await a.A.post("api/image/routes.php?type=about",e);return console.log("Backend Response:",t.data),t.data}catch(e){return console.log("Error creating image:",e),{error:"Error creating image"}}},i=async e=>{try{let t=await a.A.put("api/image/routes.php?type=imageId",e);return console.log("Backend Response:",t.data),t.data}catch(e){return console.log("Error updating image:",e),{error:"Error updating image"}}},u=async e=>{try{let t=await a.A.delete("api/image/routes.php?imageId=".concat(e));return console.log("Backend Response:",t.data),t.data}catch(e){return console.log("Error deleting image:",e),{error:"Error deleting image"}}}},70874:(e,t,r)=>{"use strict";r.d(t,{Kv:()=>c,RL:()=>n,Vd:()=>o,fS:()=>l,xo:()=>s});var a=r(46820);let s=async e=>{try{let t=await a.A.get("api/order/routes.php?userId=".concat(e));console.log("Backend Response:",t.data);let r=[];return t.data.length>0&&(r=t.data.map(e=>({orderId:e.orderId,products:e.products.map(e=>({productId:e.productId,quantity:e.quantity,color:e.color,size:e.size,productName:e.productName,productImage:e.productImage,productPrice:e.productPrice})),status:e.status,createdAt:e.createdAt,completedAt:e.completedAt,userId:e.userId,phone_number:e.phone_number,address:e.address,total:Number(e.total),name:e.name}))),r}catch(e){return console.error("Error fetching orders:",e),{error:"Error fetching orders"}}},o=async()=>{try{let e=await a.A.get("api/order/routes.php");return console.log("Backend Response:",e.data),e.data.map(e=>({orderId:e.orderId,products:e.products.map(e=>({productId:e.productId,quantity:e.quantity,color:e.color,size:e.size,productName:e.productName,productImage:e.productImage,productPrice:e.productPrice})),status:e.status,createdAt:e.createdAt,completedAt:e.completedAt,userId:e.userId,phone_number:e.phone_number,address:e.address,total:Number(e.total),name:e.name}))}catch(e){return console.log("Error fetching orders:",e),{error:"Error fetching orders"}}},n=async e=>{try{let t=await a.A.get("api/order/routes.php?orderId=".concat(e));return console.log("Backend Response:",t.data),{orderId:t.data.orderId,products:t.data.products.map(e=>({productId:e.productId,quantity:e.quantity,color:e.color,size:e.size,productName:e.productName,productImage:e.productImage,productPrice:e.productPrice})),status:t.data.status,createdAt:t.data.createdAt,completedAt:t.data.completedAt,userId:t.data.userId,phone_number:t.data.phone_number,address:t.data.address,total:Number(t.data.total),name:t.data.name}}catch(e){return console.log("Error fetching orders:",e),{error:"Error fetching orders"}}},l=async e=>{try{let t=await a.A.post("api/order/routes.php",e);return console.log("Backend Response:",t.data),{orderId:t.data.orderId}}catch(e){return console.log("Error creating order:",e),{error:"Error creating order"}}},c=async(e,t)=>{try{let r=await a.A.put("api/order/routes.php?orderId=".concat(e,"&status=").concat(t));return console.log("Backend Response:",r.data),{message:r.data.message}}catch(e){return console.log("Error updating order status:",e),{error:"Error updating order status"}}}},18652:(e,t,r)=>{"use strict";r.d(t,{Fo:()=>l,M$:()=>n,WY:()=>c,vc:()=>d});var a=r(46820),s=r(34078),o=r(22949);let n=async e=>{try{let{productId:t,short_description:r,full_description:n,tags:l,size:c,color:d,price:i,full_description_original:u,...p}=(await a.A.get("api/product/routes.php?slug=".concat(e))).data.data,g=await (0,s.Q7)(e);if("error"in g)return{error:g.error};let m=await (0,o.Xr)(e);return{...p,price:Number(i),slug:t,overview:r,description:n,images:g,reviews:m,tags:JSON.parse(l),size:JSON.parse(c),color:JSON.parse(d),descriptionOriginal:u}}catch(e){return console.log("Error fetching product:",e),{error:"Error fetching product"}}},l=async()=>{try{let e=(await a.A.get("api/product/routes.php")).data.data;return await Promise.all(e.map(async e=>{let{productId:t,short_description:r,full_description:a,size:n,color:l,full_description_original:c,tags:d,...i}=e,u=await (0,s.Q7)(t);if("error"in u)return{error:u.error};let p=await (0,o.Xr)(t);return{...i,tags:JSON.parse(d),size:JSON.parse(n),color:JSON.parse(l),slug:t,overview:r,description:a,images:u,reviews:p,descriptionOriginal:c}}))}catch(e){return console.log("Error fetching products:",e),{error:"Error fetching products"}}},c=async e=>{try{return{message:(await a.A.post("api/product/routes.php",{productId:e.slug,name:e.name,price:e.price,shortDescription:e.overview,fullDescription:e.description,size:e.size,color:e.color,tags:e.tags,fullDescriptionOriginal:e.descriptionOriginal})).data.message}}catch(e){return console.log("Error creating product:",e),{error:"Error creating product"}}},d=async(e,t)=>{try{return console.log("Updating product:",t),{message:(await a.A.put("api/product/routes.php?slug=".concat(e),{name:t.name,price:t.price,shortDescription:t.overview,fullDescription:t.description,size:t.size,color:t.color,tags:t.tags,fullDescriptionOriginal:t.descriptionOriginal})).data.message}}catch(e){return console.log("Error updating product:",e),{error:"Error updating product"}}}},22949:(e,t,r)=>{"use strict";r.d(t,{Wr:()=>l,Xr:()=>o,bx:()=>n,zu:()=>s});var a=r(46820);let s=async()=>{try{let e=await a.A.get("api/review/routes.php");return console.log("Backend Response:",e.data),e.data.data.map(e=>({reviewId:e.reviewId,productId:e.productId,reviewer:e.reviewer,rating:Number(e.rating),comment:e.content,date:e.createdAt,userId:e.userId}))}catch(e){return console.log("Error fetching reviews:",e),{error:"Error fetching reviews"}}},o=async e=>{try{let t=await a.A.get("api/review/routes.php?productId=".concat(e));return console.log("Backend Response:",t.data),"success"==t.data.status?t.data.data.map(e=>({reviewId:e.reviewId,productId:e.productId,reviewer:e.reviewer,rating:Number(e.rating),comment:e.content,date:e.createdAt,userId:e.userId})):[]}catch(e){return console.log("Error fetching reviews:",e),{error:"Error fetching reviews"}}},n=async e=>{try{console.log("Data:",e);let t=await a.A.post("api/review/routes.php",e);return console.log("Backend Response:",t.data),{message:t.data.message}}catch(e){return console.log("Error creating review:",e),{error:"Error creating review"}}},l=async e=>{try{let t=await a.A.delete("api/review/routes.php?reviewId=".concat(e));return console.log("Backend Response:",t.data),{message:t.data.message}}catch(e){return console.log("Error deleting review:",e),{error:"Error deleting review"}}}},35408:(e,t,r)=>{"use strict";r.d(t,{CF:()=>s,bu:()=>n,ej:()=>c,iH:()=>i,kZ:()=>l,kl:()=>o,rk:()=>d});var a=r(46820);let s=async()=>{try{let e=await a.A.get("api/user/routes.php");return console.log("Backend Response:",e.data),e.data.data.map(e=>({userId:Number(e.userId),name:e.username?e.username:"",email:e.email?e.email:"",phoneNumber:e.phone_number?e.phone_number:"",address:e.street&&e.city?{street:e.street,city:e.city}:{street:"",city:""},cart:e.cart?JSON.parse(e.cart):[],status:e.status,joinAt:e.joinAt}))}catch(e){return console.log("Error fetching users:",e),{error:"Error fetching users"}}},o=async e=>{try{let t=await a.A.get("api/user/routes.php?userId=".concat(e));console.log("Backend Response:",t.data);let r=t.data.data;return{userId:Number(r.userId),username:r.username,name:r.name?r.name:"",email:r.email?r.email:"",phoneNumber:r.phone_number?r.phone_number:"",address:r.street&&r.city?{street:r.street,city:r.city}:{street:"",city:""},cart:r.cart?JSON.parse(r.cart):[],status:r.status,joinAt:r.joinAt}}catch(e){return console.log("Error fetching user:",e),{error:"Error fetching user"}}},n=async(e,t)=>{try{let r=await a.A.put("api/user/routes.php?userId=".concat(e),{email:t.email,name:t.name,phone_number:t.phoneNumber,street:t.address?t.address.street:"",city:t.address?t.address.city:""});return console.log("Backend Response:",r.data),{message:r.data.message}}catch(e){return console.log("Error updating user:",e),{error:"Error updating user"}}},l=async(e,t)=>{try{let r=await a.A.put("api/user/routes.php?updateType=username&userId=".concat(e),t);return console.log("Backend Response:",r.data),{message:r.data.message}}catch(e){return console.log("Error updating user:",e),{error:"Error updating username"}}},c=async(e,t)=>{try{let r=await a.A.put("api/user/routes.php?updateType=password&userId=".concat(e),t);return console.log("Backend Response:",r.data),{message:r.data.message}}catch(e){return console.log("Error updating user:",e),{error:"Error updating password"}}},d=async(e,t)=>{try{let r=await a.A.put("api/user/routes.php?updateType=adminPassword&userId=".concat(e),t);return console.log("Backend Response:",r.data),{message:r.data.message}}catch(e){return console.log("Error updating user:",e),{error:"Error updating password"}}},i=async(e,t)=>{try{let r=await a.A.put("api/user/routes.php?updateType=cart&userId=".concat(e),t);return console.log("Backend Response:",r.data),{message:r.data.message}}catch(e){return console.log("Error updating cart:",e),{error:"Error updating cart"}}}}},e=>{var t=t=>e(e.s=t);e.O(0,[2651,1345,1080,914,9895,6412,9111,8441,1517,7358],()=>t(32545)),_N_E=e.O()}]);