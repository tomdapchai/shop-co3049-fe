(()=>{var e={};e.id=7929,e.ids=[7929],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},1429:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d});var a=s(70260),r=s(28203),i=s(25155),l=s.n(i),n=s(67292),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let d=["",{children:["admin",{children:["(main)",{children:["reviews",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,86537)),"W:\\web\\shop-co3049-fe\\app\\admin\\(main)\\reviews\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9540)),"W:\\web\\shop-co3049-fe\\app\\admin\\(main)\\layout.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,19611)),"W:\\web\\shop-co3049-fe\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["W:\\web\\shop-co3049-fe\\app\\admin\\(main)\\reviews\\page.tsx"],p={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/admin/(main)/reviews/page",pathname:"/admin/reviews",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},66364:(e,t,s)=>{Promise.resolve().then(s.bind(s,86537))},76092:(e,t,s)=>{Promise.resolve().then(s.bind(s,27349))},27349:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var a=s(45512),r=s(58009),i=s(24751),l=s(82620),n=s(68668),o=s(25409),d=s(54069),c=s(45610);let p=()=>{let[e,t]=(0,r.useState)([]),[s,p]=(0,r.useState)([]),[m,u]=(0,r.useState)(!0),[x,f]=(0,r.useState)(""),[h,v]=(0,r.useState)("date"),[j,g]=(0,r.useState)("all"),[w,N]=(0,r.useState)(1),[y,b]=(0,r.useState)(1);(0,r.useEffect)(()=>{(0,i.zu)().then(e=>{"error"in e?console.error(e.error):(console.log("Reviews:",e),t(e))}),(0,n.Fo)().then(e=>{"error"in e?console.error(e.error):p(e)}),u(!1)},[]),(0,r.useEffect)(()=>{b(Math.ceil(e.length/10))},[e]);let C=e.filter(e=>(e.comment+e.productId+e.reviewer).includes(x)&&"all"===j).sort((e,t)=>"date"===h?new Date(t.date).getTime()-new Date(e.date).getTime():"rating"===h?t.rating-e.rating:0);if(m)return(0,a.jsx)("div",{children:"Loading..."});let P=C.slice((w-1)*10,10*w);return(0,a.jsxs)("div",{className:"w-full flex flex-col justify-start items-start",children:[(0,a.jsx)("p",{className:"text-2xl font-bold",children:"Reviews management"}),(0,a.jsxs)("div",{className:"flex justify-between mb-4 w-full",children:[(0,a.jsx)(o.p,{placeholder:"Search by Reviewer, User ID, product ID or Comment",value:x,onChange:e=>f(e.target.value),className:"max-w-sm"}),(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsxs)(d.l6,{value:h,onValueChange:v,children:[(0,a.jsx)(d.bq,{className:"w-[180px]",children:(0,a.jsx)(d.yv,{placeholder:"Sort by"})}),(0,a.jsxs)(d.gC,{children:[(0,a.jsx)(d.eb,{value:"date",children:"Created"}),(0,a.jsx)(d.eb,{value:"rating",children:"Rating"})]})]})})]}),(0,a.jsx)(l.A,{reviews:P,products:s,admin:!0}),(0,a.jsx)(c.dK,{className:"mt-4",children:(0,a.jsxs)(c.Iu,{children:[(0,a.jsx)(c.cU,{children:(0,a.jsx)(c.Eb,{onClick:()=>N(e=>Math.max(e-1,1)),isActive:1!==w})}),[...Array(y)].map((e,t)=>(0,a.jsx)(c.cU,{children:(0,a.jsx)(c.n$,{onClick:()=>N(t+1),isActive:w===t+1,children:t+1})},t)),(0,a.jsx)(c.cU,{children:(0,a.jsx)(c.WA,{onClick:()=>N(e=>Math.min(e+1,y)),isActive:w!==y})})]})})]})}},38943:(e,t,s)=>{"use strict";s.d(t,{v:()=>p});var a=s(45512),r=s(97643),i=s(12784),l=s(9297),n=s(28531),o=s.n(n),d=s(87021),c=s(24751);function p({reviewer:e,rating:t,comment:s,date:n,view:p=!1,productId:m,admin:u=!1,reviewId:x,userId:f}){let h=async()=>{await (0,c.Wr)(x)};return console.log("hmm"),(0,a.jsxs)(r.Zp,{className:"w-full",children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center space-x-4 pb-4 bg-main",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold",children:[e," ",u&&"- ",u&&(0,a.jsxs)(o(),{href:`/admin/users/${f}`,className:"text-sm underline hover:text-slate-400 text-slate-500",children:["User ID: ",f]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2","aria-label":`Rating: ${t} out of 5 stars`,children:[(0,a.jsx)(l.N,{rating:t})," ",(0,a.jsxs)("p",{children:["(",t,"/5)"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col justify-start items-start space-y-2",children:[p&&m&&(0,a.jsxs)(o(),{href:`/product/${m}`,className:"underline hover:text-slate-400",children:["Product: ",m]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:n})]})]}),(0,a.jsx)(i.Separator,{}),(0,a.jsx)(r.Wu,{className:"pt-4",children:(0,a.jsx)("p",{className:"text-sm leading-relaxed",children:s})}),(0,a.jsxs)(r.wL,{className:"text-sm text-muted-foreground flex flex-col space-y-2 justify-start items-start",children:[(0,a.jsx)("p",{children:"Was this review helpful?"}),u&&x&&(0,a.jsx)(d.$,{onClick:h,className:"bg-red-400 hover:bg-red-400/90",children:"Delete Review"})]})]})}},82620:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(45512),r=s(58009),i=s(38943);let l=({reviews:e,products:t,admin:s=!1})=>{let[l,n]=(0,r.useState)(e);return(0,r.useEffect)(()=>{n(e)}),(0,a.jsx)("div",{className:"w-full flex flex-col space-y-4",children:l.map((e,t)=>(0,a.jsx)(i.v,{...e,view:!0,admin:s},e.reviewId))})}},9297:(e,t,s)=>{"use strict";s.d(t,{N:()=>i});var a=s(45512),r=s(56383);function i({rating:e}){let t=Math.max(0,Math.min(5,Math.round(e)));return(0,a.jsx)("div",{className:"flex","aria-label":`Rating: ${Number(e).toFixed(1)} out of 5 stars`,children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsx)(r.A,{className:`w-5 h-5 ${s<t?"text-sub fill-[#b88e2f] text-sub":"text-muted-foreground"}`},s))})}},97643:(e,t,s)=>{"use strict";s.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>l,aR:()=>n,wL:()=>p});var a=s(45512),r=s(58009),i=s(59462);let l=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,i.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...t}));l.displayName="Card";let n=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));n.displayName="CardHeader";let o=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,i.cn)("font-semibold leading-none tracking-tight",e),...t}));o.displayName="CardTitle";let d=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,i.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let p=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t}));p.displayName="CardFooter"},45610:(e,t,s)=>{"use strict";s.d(t,{dK:()=>c,Iu:()=>p,cU:()=>m,n$:()=>u,WA:()=>f,Eb:()=>x});var a=s(45512),r=s(58009),i=s(94825);let l=(0,i.A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var n=s(86967);(0,i.A)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var o=s(59462),d=s(87021);let c=({className:e,...t})=>(0,a.jsx)("nav",{role:"navigation","aria-label":"pagination",className:(0,o.cn)("mx-auto flex w-full justify-center",e),...t});c.displayName="Pagination";let p=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("ul",{ref:s,className:(0,o.cn)("flex flex-row items-center gap-1",e),...t}));p.displayName="PaginationContent";let m=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("li",{ref:s,className:(0,o.cn)("",e),...t}));m.displayName="PaginationItem";let u=({className:e,isActive:t,size:s="icon",...r})=>(0,a.jsx)("a",{"aria-current":t?"page":void 0,className:(0,o.cn)((0,d.r)({variant:t?"outline":"ghost",size:s}),e),...r});u.displayName="PaginationLink";let x=({className:e,...t})=>(0,a.jsxs)(u,{"aria-label":"Go to previous page",size:"default",className:(0,o.cn)("gap-1 pl-2.5",e),...t,children:[(0,a.jsx)(l,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Previous"})]});x.displayName="PaginationPrevious";let f=({className:e,...t})=>(0,a.jsxs)(u,{"aria-label":"Go to next page",size:"default",className:(0,o.cn)("gap-1 pr-2.5",e),...t,children:[(0,a.jsx)("span",{children:"Next"}),(0,a.jsx)(n.A,{className:"h-4 w-4"})]});f.displayName="PaginationNext"},54069:(e,t,s)=>{"use strict";s.d(t,{bq:()=>m,eb:()=>h,gC:()=>f,l6:()=>c,yv:()=>p});var a=s(45512),r=s(58009),i=s(81477),l=s(7833),n=s(36624),o=s(24999),d=s(59462);let c=i.bL;i.YJ;let p=i.WT,m=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(i.l9,{ref:r,className:(0,d.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,(0,a.jsx)(i.In,{asChild:!0,children:(0,a.jsx)(l.A,{className:"h-4 w-4 opacity-50"})})]}));m.displayName=i.l9.displayName;let u=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.PP,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,a.jsx)(n.A,{className:"h-4 w-4"})}));u.displayName=i.PP.displayName;let x=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.wn,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,a.jsx)(l.A,{className:"h-4 w-4"})}));x.displayName=i.wn.displayName;let f=r.forwardRef(({className:e,children:t,position:s="popper",...r},l)=>(0,a.jsx)(i.ZL,{children:(0,a.jsxs)(i.UC,{ref:l,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[(0,a.jsx)(u,{}),(0,a.jsx)(i.LM,{className:(0,d.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,a.jsx)(x,{})]})}));f.displayName=i.UC.displayName,r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.JU,{ref:s,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",e),...t})).displayName=i.JU.displayName;let h=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(i.q7,{ref:r,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[(0,a.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.VF,{children:(0,a.jsx)(o.A,{className:"h-4 w-4"})})}),(0,a.jsx)(i.p4,{children:t})]}));h.displayName=i.q7.displayName,r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.wv,{ref:s,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=i.wv.displayName},86537:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"W:\\\\web\\\\shop-co3049-fe\\\\app\\\\admin\\\\(main)\\\\reviews\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"W:\\web\\shop-co3049-fe\\app\\admin\\(main)\\reviews\\page.tsx","default")},29374:(e,t,s)=>{"use strict";function a(e,[t,s]){return Math.min(s,Math.max(t,e))}s.d(t,{q:()=>a})},59018:(e,t,s)=>{"use strict";s.d(t,{jH:()=>i});var a=s(58009);s(45512);var r=a.createContext(void 0);function i(e){let t=a.useContext(r);return e||t||"ltr"}},24999:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(94825).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},86967:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(94825).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},56383:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(94825).A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[638,9798,7180,4388,9749,1220,6107,72],()=>s(1429));module.exports=a})();