(()=>{var e={};e.id=2015,e.ids=[2015],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},14473:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var s=r(70260),a=r(28203),i=r(25155),n=r.n(i),l=r(67292),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["admin",{children:["(main)",{children:["siteInfo",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,98853)),"W:\\web\\shop-co3049-fe\\app\\admin\\(main)\\siteInfo\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9540)),"W:\\web\\shop-co3049-fe\\app\\admin\\(main)\\layout.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,19611)),"W:\\web\\shop-co3049-fe\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["W:\\web\\shop-co3049-fe\\app\\admin\\(main)\\siteInfo\\page.tsx"],m={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/(main)/siteInfo/page",pathname:"/admin/siteInfo",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},64634:(e,t,r)=>{Promise.resolve().then(r.bind(r,98853))},4802:(e,t,r)=>{Promise.resolve().then(r.bind(r,59073))},59073:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var s=r(45512),a=r(58009),i=r(6868),n=r(81914),l=r(87021),o=r(48859),d=r(71965),c=r(666),m=r(70801),u=r(27071),p=r(94727),f=r(25409),x=r(26288),h=r(18295),j=r(59462),g=r(47686),b=r(48052),v=r(89850);function w(){let[e,t]=(0,a.useState)(),[r,w]=(0,a.useState)([]),[N,y]=(0,a.useState)(""),[Y,I]=(0,a.useState)(!1),{toast:C}=(0,m.dj)(),P=(0,i.mN)({resolver:(0,n.u)(b.nv),defaultValues:{about:"",address:"",email:"",phoneNumber:""}}),E=async e=>{try{I(!0);let t=r.filter(e=>e.src.startsWith("blob")),s=(await Promise.all(r.map(async e=>{try{if(!e.src.startsWith("blob"))return{alt:e.alt,src:e.src};{let r=await (0,j.cV)(e.file);if("string"==typeof r)return t.forEach(t=>{e.alt===t.alt&&(t.src=r)}),{alt:e.alt,src:r};return console.log("Error uploading image:",e.alt),C({title:"Error",description:`Error uploading image ${e.alt}`,variant:"destructive"}),null}}catch(e){return console.log("Error saving image:",e),C({title:"Error",description:"Error saving image",variant:"destructive"}),null}}))).filter(e=>null!==e);if(s.length!==r.length){C({title:"Error",description:"Failed to upload all images",variant:"destructive"});return}console.log("uploaded",s);let a=e.about;a=a.replace(/IMG<([^,]+)(?:,\s*(\d+))?(?:,\s*(\d+))?>/g,(e,t,r,a)=>{let i=s.find(e=>e.alt===t);return i?`IMG<${t},${i.src}${r?`,${r}`:""}${a?`,${a}`:""}>`:(C({title:"Error",description:`Image with alt "${t}" not found`,variant:"destructive"}),e)});let i=(0,j.QH)(a);await (0,g.v)({about:i,aboutOriginal:e.about,address:e.address,email:e.email,phoneNumber:e.phoneNumber}).then(e=>{if("error"in e){C({title:"Error",description:"Something went wrong while creating the blog.",variant:"destructive"}),I(!1);return}C({title:"Blog Created",description:"Your blog has been successfully created!"})}).then(()=>{t.forEach(async e=>{await (0,v.lj)({src:e.src,imageId:e.alt}).then(e=>{"error"in e&&C({title:"Error",description:"Something went wrong while creating the about images.",variant:"destructive"})})})}).finally(()=>{I(!1)})}catch(e){console.error("Error in onSubmit:",e),C({title:"Error",description:"Something went wrong while updating site info.",variant:"destructive"})}};return(0,s.jsx)("div",{className:"w-full ",children:(0,s.jsxs)(p.lV,{...P,children:[(0,s.jsx)("form",{onSubmit:P.handleSubmit(E),className:"space-y-8 p-4",children:(0,s.jsxs)("div",{className:"flex space-x-10",children:[(0,s.jsxs)("div",{className:"w-3/4 space-y-4",children:[(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(p.zB,{control:P.control,name:"address",render:({field:e})=>(0,s.jsxs)(p.eI,{className:"flex-1",children:[(0,s.jsx)(p.lR,{children:"Address"}),(0,s.jsx)(p.MJ,{children:(0,s.jsx)(f.p,{placeholder:"Enter company address",...e})}),(0,s.jsx)(p.C5,{})]})}),(0,s.jsx)(p.zB,{control:P.control,name:"email",render:({field:e})=>(0,s.jsxs)(p.eI,{className:"flex-1",children:[(0,s.jsx)(p.lR,{children:"Email"}),(0,s.jsx)(p.MJ,{children:(0,s.jsx)(f.p,{placeholder:"Enter company email",...e})}),(0,s.jsx)(p.C5,{})]})}),(0,s.jsx)(p.zB,{control:P.control,name:"phoneNumber",render:({field:e})=>(0,s.jsxs)(p.eI,{className:"flex-1",children:[(0,s.jsx)(p.lR,{children:"Phone number"}),(0,s.jsx)(p.MJ,{children:(0,s.jsx)(f.p,{placeholder:"Enter company phone number",...e})}),(0,s.jsx)(p.C5,{})]})})]}),(0,s.jsx)(p.zB,{control:P.control,name:"about",render:({field:e})=>(0,s.jsxs)(p.eI,{children:[(0,s.jsx)(p.lR,{children:"About"}),(0,s.jsx)(p.MJ,{children:(0,s.jsx)(o.T,{placeholder:"Write your company introduction here",className:"min-h-[300px]",...e})}),(0,s.jsx)(p.C5,{})]})})]}),(0,s.jsxs)("div",{className:"w-1/4 space-y-4",children:[(0,s.jsx)("p",{className:"text-lg font-bold",children:"Choose images for about"}),(0,s.jsx)(x.A,{uploadedImages:r,onUpload:e=>{let t=URL.createObjectURL(e),r=e.name.split(".").slice(0,-1).join(".");w(s=>[...s,{alt:r,src:t,file:e}])},onDelete:e=>{w(t=>{let r=t.filter(t=>t.src!==e);return URL.revokeObjectURL(e),r})},onUpdateAlt:(e,t)=>{w(r=>r.map(r=>r.alt===e?{...r,alt:t}:r))},isEditing:!0}),(0,s.jsxs)(d.lG,{children:[(0,s.jsx)(d.zM,{asChild:!0,children:(0,s.jsx)(l.$,{onClick:()=>{let e=P.getValues("about");e=e.replace(/IMG<([^,]+)(?:,\s*(\d+))?(?:,\s*(\d+))?>/g,(e,t,s,a)=>{let i=r.find(e=>e.alt===t);return i?`IMG<${t},${i.src}${s?`,${s}`:""}${a?`,${a}`:""}>`:(C({title:"Error",description:`Image with alt "${t}" not found`,variant:"destructive"}),e)}),y((0,j.QH)(e))},className:"w-full",children:"Preview"})}),(0,s.jsxs)(d.Cf,{className:"max-w-4xl max-h-[80vh]",children:[(0,s.jsx)(d.c7,{children:(0,s.jsx)(d.L3,{children:"Blog Preview"})}),(0,s.jsx)(c.F,{className:"h-full max-h-[calc(80vh-4rem)]",children:(0,s.jsx)(h.A,{content:N})})]})]}),(0,s.jsx)(l.$,{type:"submit",className:`${Y?"bg-[#030391]/20 cursor-not-allowed hover:bg-[#030391]/20 active:bg-[#030391]/20":"bg-sub hover:bg-main/90 active:bg-main/95"} w-full relative`,children:Y?(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border-b border-gray-900"})}):"Update site info"})]})]})}),(0,s.jsx)(u.Toaster,{})]})})}},18295:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(45512);r(58009);var a=r(6371);function i({content:e}){return(0,s.jsx)("div",{className:"prose max-w-none",children:(0,a.Ay)(e)})}},26288:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var s=r(45512),a=r(58009),i=r(87021),n=r(25409),l=r(666),o=r(24999);function d({uploadedImages:e,onUpload:t,onDelete:r,onUpdateAlt:d,isMultiple:c=!0,isEditing:m=!1}){let[u,p]=(0,a.useState)(null),[f,x]=(0,a.useState)("");console.log(e);let h=e=>{d(e,f),p(null),x("")},j=e=>{p(e),x(e)};return(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsx)(n.p,{type:"file",accept:"image/*",onChange:e=>{let r=e.target.files;r&&Array.from(r).forEach(t)},multiple:c,disabled:!m}),(0,s.jsx)(l.F,{className:"h-fit",children:e.map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("img",{src:e.src,alt:e.alt,className:"w-16 h-16 object-cover"}),u===e.alt?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.p,{value:f,onChange:e=>x(e.target.value),autoFocus:!0}),(0,s.jsx)(i.$,{size:"icon",onClick:()=>h(e.alt),children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})]}):(0,s.jsx)("span",{onClick:()=>j(e.alt),children:e.alt}),m&&(0,s.jsx)(i.$,{variant:"destructive",size:"sm",onClick:t=>{t.preventDefault(),r(e.src)},children:"Delete"})]},e.src))})]})}},71965:(e,t,r)=>{"use strict";r.d(t,{Cf:()=>u,L3:()=>f,c7:()=>p,lG:()=>o,rr:()=>x,zM:()=>d});var s=r(45512),a=r(58009),i=r(27553),n=r(51255),l=r(59462);let o=i.bL,d=i.l9,c=i.ZL;i.bm;let m=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(i.hJ,{ref:r,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));m.displayName=i.hJ.displayName;let u=a.forwardRef(({className:e,children:t,...r},a)=>(0,s.jsxs)(c,{children:[(0,s.jsx)(m,{}),(0,s.jsxs)(i.UC,{ref:a,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,(0,s.jsxs)(i.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(n.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));u.displayName=i.UC.displayName;let p=({className:e,...t})=>(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});p.displayName="DialogHeader";let f=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(i.hE,{ref:r,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));f.displayName=i.hE.displayName;let x=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(i.VY,{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",e),...t}));x.displayName=i.VY.displayName},94727:(e,t,r)=>{"use strict";r.d(t,{C5:()=>g,MJ:()=>h,Rr:()=>j,eI:()=>f,lR:()=>x,lV:()=>d,zB:()=>m});var s=r(45512),a=r(58009),i=r(12705),n=r(6868),l=r(59462),o=r(47699);let d=n.Op,c=a.createContext({}),m=({...e})=>(0,s.jsx)(c.Provider,{value:{name:e.name},children:(0,s.jsx)(n.xI,{...e})}),u=()=>{let e=a.useContext(c),t=a.useContext(p),{getFieldState:r,formState:s}=(0,n.xW)(),i=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=t;return{id:l,name:e.name,formItemId:`${l}-form-item`,formDescriptionId:`${l}-form-item-description`,formMessageId:`${l}-form-item-message`,...i}},p=a.createContext({}),f=a.forwardRef(({className:e,...t},r)=>{let i=a.useId();return(0,s.jsx)(p.Provider,{value:{id:i},children:(0,s.jsx)("div",{ref:r,className:(0,l.cn)("space-y-2",e),...t})})});f.displayName="FormItem";let x=a.forwardRef(({className:e,...t},r)=>{let{error:a,formItemId:i}=u();return(0,s.jsx)(o.J,{ref:r,className:(0,l.cn)(a&&"text-destructive",e),htmlFor:i,...t})});x.displayName="FormLabel";let h=a.forwardRef(({...e},t)=>{let{error:r,formItemId:a,formDescriptionId:n,formMessageId:l}=u();return(0,s.jsx)(i.DX,{ref:t,id:a,"aria-describedby":r?`${n} ${l}`:`${n}`,"aria-invalid":!!r,...e})});h.displayName="FormControl";let j=a.forwardRef(({className:e,...t},r)=>{let{formDescriptionId:a}=u();return(0,s.jsx)("p",{ref:r,id:a,className:(0,l.cn)("text-[0.8rem] text-muted-foreground",e),...t})});j.displayName="FormDescription";let g=a.forwardRef(({className:e,children:t,...r},a)=>{let{error:i,formMessageId:n}=u(),o=i?String(i?.message):t;return o?(0,s.jsx)("p",{ref:a,id:n,className:(0,l.cn)("text-[0.8rem] font-medium text-destructive",e),...r,children:o}):null});g.displayName="FormMessage"},47699:(e,t,r)=>{"use strict";r.d(t,{J:()=>d});var s=r(45512),a=r(58009),i=r(92405),n=r(21643),l=r(59462);let o=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(i.b,{ref:r,className:(0,l.cn)(o(),e),...t}));d.displayName=i.b.displayName},666:(e,t,r)=>{"use strict";r.d(t,{F:()=>l});var s=r(45512),a=r(58009),i=r(53998),n=r(59462);let l=a.forwardRef(({className:e,children:t,...r},a)=>(0,s.jsxs)(i.bL,{ref:a,className:(0,n.cn)("relative overflow-hidden",e),...r,children:[(0,s.jsx)(i.LM,{className:"h-full w-full rounded-[inherit]",children:t}),(0,s.jsx)(o,{}),(0,s.jsx)(i.OK,{})]}));l.displayName=i.bL.displayName;let o=a.forwardRef(({className:e,orientation:t="vertical",...r},a)=>(0,s.jsx)(i.VM,{ref:a,orientation:t,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:(0,s.jsx)(i.lr,{className:"relative flex-1 rounded-full bg-border"})}));o.displayName=i.VM.displayName},48859:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});var s=r(45512),a=r(58009),i=r(59462);let n=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("textarea",{className:(0,i.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));n.displayName="Textarea"},48052:(e,t,r)=>{"use strict";r.d(t,{Em:()=>l,HU:()=>o,Il:()=>a,eB:()=>n,mJ:()=>i,nv:()=>c,qb:()=>d});var s=r(16131);let a=s.Ik({username:s.Yj(),password:s.Yj().min(8)}),i=s.Ik({username:s.Yj().min(5),password:s.Yj().min(8),confirmPassword:s.Yj().min(8)}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});s.Ik({name:s.Yj().min(3,{message:"Name must be at least 3 characters."}),rating:s.ai().min(1).max(5),comment:s.Yj().min(10,{message:"Comment must be at least 10 characters."}).optional()});let n=s.Ik({name:s.Yj().min(2,{message:"Name must be at least 2 characters."}),email:s.Yj().email({message:"Please enter a valid email address."}),phoneNumber:s.Yj().regex(/^(\+84|0)[3|5|7|8|9][0-9]{8}$/,{message:"Please enter a valid Vietnamese phone number."}),streetAddress:s.Yj().min(5,{message:"Street address must be at least 5 characters."}),city:s.Yj().min(2,{message:"City must be at least 2 characters."}),province:s.Yj().min(2,{message:"Please select a province."})});s.Ik({name:s.Yj(),email:s.Yj().email(),phoneNumber:s.Yj().regex(/^(\+84|0)[3|5|7|8|9][0-9]{8}$/),streetAddress:s.Yj(),city:s.Yj(),province:s.Yj()});let l=s.Ik({title:s.Yj().min(1,"Blog title is required"),blogId:s.Yj().min(1,"Blog ID is required").regex(/^[a-z0-9-]+$/,"Blog ID must contain only lowercase letters, numbers, and hyphens"),content:s.Yj().min(1,"Content is required"),tags:s.YO(s.Yj())}),o=s.Ik({productId:s.Yj().min(1,"Product ID is required"),name:s.Yj().min(1,"Name is required"),price:s.ai().min(0,"Price must be a positive number"),size:s.YO(s.Yj()).min(1,"At least one size must be selected"),color:s.YO(s.Yj()).min(1,"At least one color must be selected"),shortDescription:s.Yj().min(1,"Short description is required"),fullDescription:s.Yj().min(1,"Full description is required"),tags:s.YO(s.Yj())}),d=s.Ik({name:s.Yj().min(2,{message:"Name must be at least 2 characters."}),email:s.Yj().email({message:"Please enter a valid email address."}),phoneNumber:s.Yj().optional(),subject:s.Yj().optional(),message:s.Yj().min(10,{message:"Message must be at least 10 characters."})}),c=s.Ik({about:s.Yj(),address:s.Yj(),phoneNumber:s.Yj(),email:s.Yj().email()})},98853:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"W:\\\\web\\\\shop-co3049-fe\\\\app\\\\admin\\\\(main)\\\\siteInfo\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"W:\\web\\shop-co3049-fe\\app\\admin\\(main)\\siteInfo\\page.tsx","default")},59018:(e,t,r)=>{"use strict";r.d(t,{jH:()=>i});var s=r(58009);r(45512);var a=s.createContext(void 0);function i(e){let t=s.useContext(a);return e||t||"ltr"}},24999:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(94825).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,9798,7180,4388,9749,8310,6371,3998,6107,72],()=>r(14473));module.exports=s})();