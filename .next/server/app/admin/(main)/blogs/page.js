(()=>{var e={};e.id=8297,e.ids=[8297],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},93957:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var s=r(70260),a=r(28203),o=r(25155),n=r.n(o),l=r(67292),i={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);r.d(t,i);let d=["",{children:["admin",{children:["(main)",{children:["blogs",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,37001)),"W:\\web\\shop-co3049-fe\\app\\admin\\(main)\\blogs\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9540)),"W:\\web\\shop-co3049-fe\\app\\admin\\(main)\\layout.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,19611)),"W:\\web\\shop-co3049-fe\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["W:\\web\\shop-co3049-fe\\app\\admin\\(main)\\blogs\\page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/(main)/blogs/page",pathname:"/admin/blogs",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},23460:(e,t,r)=>{Promise.resolve().then(r.bind(r,37001))},88548:(e,t,r)=>{Promise.resolve().then(r.bind(r,19258))},19258:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var s=r(45512),a=r(58009),o=r(97643),n=r(77252),l=r(6371),i=r(45103),d=r(79334),c=r(87021);function p({blog:e,thumb:t}){let r=(0,d.useRouter)();return(0,s.jsxs)(o.Zp,{className:"w-full",children:[(0,s.jsx)(o.aR,{className:"p-4",children:(0,s.jsx)(o.ZB,{className:"text-2xl",children:e.title})}),(0,s.jsxs)(o.Wu,{className:"p-4 pt-0 h-[400px] line-clamp-3 mb-6",children:[(0,s.jsx)(i.default,{src:t.src,alt:t.imageId,width:400,height:400}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground line-clamp-3",children:(0,l.Ay)(e.content)})]}),(0,s.jsxs)(o.wL,{className:"w-full flex flex-col justify-start items-start space-y-4",children:[(0,s.jsx)("div",{className:"p-4 pt-0 flex flex-wrap gap-2",children:e.tags.map((e,t)=>(0,s.jsx)(n.E,{variant:"secondary",children:e},t))}),(0,s.jsx)(c.$,{variant:"link",onClick:()=>r.push(`/admin/blogs/${e.blogId}`),children:"Details"})]})]})}var u=r(25409),m=r(54069);function f(){let[e,t]=(0,a.useState)([]),[r,o]=(0,a.useState)(""),[n,l]=(0,a.useState)("all"),[i,f]=(0,a.useState)("desc"),[x,g]=(0,a.useState)(1),[h,b]=(0,a.useState)(!0),[v,w]=(0,a.useState)([]),y=(0,d.useRouter)(),j=Array.from(new Set(e.flatMap(e=>e.tags)));if(h)return(0,s.jsx)("div",{children:"Loading..."});let N=e.filter(e=>e.title.toLowerCase().includes(r.toLowerCase())).filter(e=>"all"===n||""===n||e.tags.includes(n)).sort((e,t)=>"asc"===i?new Date(e.posted).getTime()-new Date(t.posted).getTime():new Date(t.posted).getTime()-new Date(e.posted).getTime()),C=Math.ceil(N.length/5),q=N.slice((x-1)*5,5*x);return(0,s.jsxs)("div",{className:"container mx-auto py-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Blog Management"}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[(0,s.jsx)(u.p,{placeholder:"Search blogs...",value:r,onChange:e=>o(e.target.value),className:"md:w-1/3"}),(0,s.jsxs)(m.l6,{value:n,onValueChange:l,children:[(0,s.jsx)(m.bq,{className:"md:w-1/3",children:(0,s.jsx)(m.yv,{placeholder:"Filter by tag"})}),(0,s.jsxs)(m.gC,{children:[(0,s.jsx)(m.eb,{value:"all",children:"All tags"}),j.map(e=>(0,s.jsx)(m.eb,{value:e,children:e},e))]})]}),(0,s.jsxs)(m.l6,{value:i,onValueChange:e=>f(e),children:[(0,s.jsx)(m.bq,{className:"md:w-1/3",children:(0,s.jsx)(m.yv,{placeholder:"Sort by date"})}),(0,s.jsxs)(m.gC,{children:[(0,s.jsx)(m.eb,{value:"desc",children:"Newest first"}),(0,s.jsx)(m.eb,{value:"asc",children:"Oldest first"})]})]}),(0,s.jsx)(c.$,{className:"bg-sub hover:bg-sub",onClick:()=>{y.push("/admin/blogs/create")},children:"Create new blog"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-6",children:q.map((e,t)=>(0,s.jsx)(p,{blog:e,thumb:v[t]},e.blogId))}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)(c.$,{onClick:()=>g(e=>Math.max(1,e-1)),disabled:1===x,children:"Previous"}),(0,s.jsxs)("span",{children:["Page ",x," of ",C]}),(0,s.jsx)(c.$,{onClick:()=>g(e=>Math.min(C,e+1)),disabled:x===C,children:"Next"})]})]})}r(29695),r(89850)},77252:(e,t,r)=>{"use strict";r.d(t,{E:()=>l});var s=r(45512);r(58009);var a=r(21643),o=r(59462);let n=(0,a.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,...r}){return(0,s.jsx)("div",{className:(0,o.cn)(n({variant:t}),e),...r})}},97643:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>i,Zp:()=>n,aR:()=>l,wL:()=>p});var s=r(45512),a=r(58009),o=r(59462);let n=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,o.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...t}));n.displayName="Card";let l=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let i=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,o.cn)("font-semibold leading-none tracking-tight",e),...t}));i.displayName="CardTitle";let d=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,o.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,o.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let p=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,o.cn)("flex items-center p-6 pt-0",e),...t}));p.displayName="CardFooter"},54069:(e,t,r)=>{"use strict";r.d(t,{bq:()=>u,eb:()=>g,gC:()=>x,l6:()=>c,yv:()=>p});var s=r(45512),a=r(58009),o=r(81477),n=r(7833),l=r(36624),i=r(24999),d=r(59462);let c=o.bL;o.YJ;let p=o.WT,u=a.forwardRef(({className:e,children:t,...r},a)=>(0,s.jsxs)(o.l9,{ref:a,className:(0,d.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,(0,s.jsx)(o.In,{asChild:!0,children:(0,s.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]}));u.displayName=o.l9.displayName;let m=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(o.PP,{ref:r,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,s.jsx)(l.A,{className:"h-4 w-4"})}));m.displayName=o.PP.displayName;let f=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(o.wn,{ref:r,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,s.jsx)(n.A,{className:"h-4 w-4"})}));f.displayName=o.wn.displayName;let x=a.forwardRef(({className:e,children:t,position:r="popper",...a},n)=>(0,s.jsx)(o.ZL,{children:(0,s.jsxs)(o.UC,{ref:n,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[(0,s.jsx)(m,{}),(0,s.jsx)(o.LM,{className:(0,d.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,s.jsx)(f,{})]})}));x.displayName=o.UC.displayName,a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(o.JU,{ref:r,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",e),...t})).displayName=o.JU.displayName;let g=a.forwardRef(({className:e,children:t,...r},a)=>(0,s.jsxs)(o.q7,{ref:a,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[(0,s.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(o.VF,{children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})}),(0,s.jsx)(o.p4,{children:t})]}));g.displayName=o.q7.displayName,a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(o.wv,{ref:r,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=o.wv.displayName},29695:(e,t,r)=>{"use strict";r.d(t,{Dm:()=>o,Xm:()=>a,Yb:()=>l,ly:()=>n,yb:()=>i});var s=r(79828);let a=async()=>{try{let e=await s.A.get("api/blog/routes.php");return console.log("Backend Response:",e.data),e.data.data.map(e=>({blogId:e.blogId,title:e.title,content:e.content,tags:JSON.parse(e.tags),posted:e.posted,contentOriginal:e.content_original}))}catch(e){return console.log("Error:",e),{error:"An error occurred while fetching blogs"}}},o=async e=>{try{let t=await s.A.get(`api/blog/routes.php?blogId=${e}`);console.log("Backend Response:",t.data);let{title:r,content:a,tags:o,posted:n,content_original:l}=t.data.data;return{blogId:e,title:r,content:a,tags:JSON.parse(o),posted:n,contentOriginal:l}}catch(e){return console.log("Error:",e),{error:"An error occurred while fetching blog"}}},n=async e=>{try{let t=await s.A.post("api/blog/routes.php",e);return console.log("Backend Response:",t.data),{message:t.data.message}}catch(e){return console.log("Error:",e),{error:"An error occurred while creating blog"}}},l=async(e,t)=>{try{let r=await s.A.put(`api/blog/routes.php?blogId=${e}`,t);return console.log("Backend Response:",r.data),{message:r.data.message}}catch(e){return console.log("Error:",e),{error:"An error occurred while updating blog"}}},i=async e=>{try{let t=await s.A.delete(`api/blog/routes.php?blogId=${e}`);return console.log("Backend Response:",t.data),{message:t.data.message}}catch(e){return console.log("Error:",e),{error:"An error occurred while deleting blog"}}}},37001:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"W:\\\\web\\\\shop-co3049-fe\\\\app\\\\admin\\\\(main)\\\\blogs\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"W:\\web\\shop-co3049-fe\\app\\admin\\(main)\\blogs\\page.tsx","default")},29374:(e,t,r)=>{"use strict";function s(e,[t,r]){return Math.min(r,Math.max(t,e))}r.d(t,{q:()=>s})},59018:(e,t,r)=>{"use strict";r.d(t,{jH:()=>o});var s=r(58009);r(45512);var a=s.createContext(void 0);function o(e){let t=s.useContext(a);return e||t||"ltr"}},24999:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(94825).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,9798,7180,4388,5103,9749,6371,1220,6107,72],()=>r(93957));module.exports=s})();